var hP=Object.defineProperty,fP=Object.defineProperties;var pP=Object.getOwnPropertyDescriptors;var vw=Object.getOwnPropertySymbols,gP=Object.getPrototypeOf,mP=Object.prototype.hasOwnProperty,yP=Object.prototype.propertyIsEnumerable,vP=Reflect.get;var _w=(n,e,t)=>e in n?hP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})mP.call(e,t)&&_w(n,t,e[t]);if(vw)for(var t of vw(e))yP.call(e,t)&&_w(n,t,e[t]);return n},re=(n,e)=>fP(n,pP(e));var gr=(n,e,t)=>vP(gP(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function sp(n,e){return Object.is(n,e)}var $e=null,_u=!1,ap=1,Bt=Symbol("SIGNAL");function ce(n){let e=$e;return $e=n,e}function cp(){return $e}var ia={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oa(n){if(_u)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(n);let e=$e.nextProducerIndex++;if(Du($e),e<$e.producerNode.length&&$e.producerNode[e]!==n&&ra($e)){let t=$e.producerNode[e];wu(t,$e.producerIndexOfThis[e])}$e.producerNode[e]!==n&&($e.producerNode[e]=n,$e.producerIndexOfThis[e]=ra($e)?Ew(n,$e,e):0),$e.producerLastReadVersion[e]=n.version}function Iw(){ap++}function up(n){if(!(ra(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ap)){if(!n.producerMustRecompute(n)&&!fp(n)){op(n);return}n.producerRecomputeValue(n),op(n)}}function lp(n){if(n.liveConsumerNode===void 0)return;let e=_u;_u=!0;try{for(let t of n.liveConsumerNode)t.dirty||_P(t)}finally{_u=e}}function dp(){return $e?.consumerAllowSignalWrites!==!1}function _P(n){n.dirty=!0,lp(n),n.consumerMarkedDirty?.(n)}function op(n){n.dirty=!1,n.lastCleanEpoch=ap}function Eu(n){return n&&(n.nextProducerIndex=0),ce(n)}function hp(n,e){if(ce(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ra(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function fp(n){Du(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(up(t),r!==t.version))return!0}return!1}function pp(n){if(Du(n),ra(n))for(let e=0;e<n.producerNode.length;e++)wu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ew(n,e,t){if(ww(n),n.liveConsumerNode.length===0&&Dw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Ew(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wu(n,e){if(ww(n),n.liveConsumerNode.length===1&&Dw(n))for(let r=0;r<n.producerNode.length;r++)wu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Du(i),i.producerIndexOfThis[r]=e}}function ra(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Du(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ww(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Dw(n){return n.producerNode!==void 0}function gp(n,e){let t=Object.create(IP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(up(t),oa(t),t.value===Iu)throw t.error;return t.value};return r[Bt]=t,r}var rp=Symbol("UNSET"),ip=Symbol("COMPUTING"),Iu=Symbol("ERRORED"),IP=re(k({},ia),{value:rp,dirty:!0,error:null,equal:sp,kind:"computed",producerMustRecompute(n){return n.value===rp||n.value===ip},producerRecomputeValue(n){if(n.value===ip)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ip;let t=Eu(n),r,i=!1;try{r=n.computation(),ce(null),i=e!==rp&&e!==Iu&&r!==Iu&&n.equal(e,r)}catch(o){r=Iu,n.error=o}finally{hp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function EP(){throw new Error}var Tw=EP;function Cw(n){Tw(n)}function mp(n){Tw=n}var wP=null;function yp(n,e){let t=Object.create(Tu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(oa(t),t.value);return r[Bt]=t,r}function sa(n,e){dp()||Cw(n),n.equal(n.value,e)||(n.value=e,DP(n))}function vp(n,e){dp()||Cw(n),sa(n,e(n.value))}var Tu=re(k({},ia),{equal:sp,value:void 0,kind:"signal"});function DP(n){n.version++,Iw(),lp(n),wP?.()}function _p(n){let e=ce(null);try{return n()}finally{ce(e)}}var Ip;function aa(){return Ip}function $n(n){let e=Ip;return Ip=n,e}var Cu=Symbol("NotFound");function Y(n){return typeof n=="function"}function io(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bu=io(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ti(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof bu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bw(o)}catch(s){e=e??[],s instanceof bu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ti(t,e)}remove(e){let{_finalizers:t}=this;t&&ti(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var Ep=Pe.EMPTY;function Su(n){return n instanceof Pe||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function bw(n){Y(n)?n():n.unsubscribe()}var Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oo={setTimeout(n,e,...t){let{delegate:r}=oo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=oo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Au(n){oo.setTimeout(()=>{let{onUnhandledError:e}=Yt;if(e)e(n);else throw n})}function ca(){}var Sw=wp("C",void 0,void 0);function Aw(n){return wp("E",void 0,n)}function Rw(n){return wp("N",n,void 0)}function wp(n,e,t){return{kind:n,value:e,error:t}}var ni=null;function so(n){if(Yt.useDeprecatedSynchronousErrorHandling){let e=!ni;if(e&&(ni={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ni;if(ni=null,t)throw r}}else n()}function Mw(n){Yt.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=n)}var ri=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Su(e)&&e.add(this)):this.destination=RP}static create(e,t,r){return new ao(e,t,r)}next(e){this.isStopped?Tp(Rw(e),this):this._next(e)}error(e){this.isStopped?Tp(Aw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tp(Sw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SP=Function.prototype.bind;function Dp(n,e){return SP.call(n,e)}var Cp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ru(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ru(r)}else Ru(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ru(t)}}},ao=class extends ri{constructor(e,t,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dp(e.next,o),error:e.error&&Dp(e.error,o),complete:e.complete&&Dp(e.complete,o)}):i=e}this.destination=new Cp(i)}};function Ru(n){Yt.useDeprecatedSynchronousErrorHandling?Mw(n):Au(n)}function AP(n){throw n}function Tp(n,e){let{onStoppedNotification:t}=Yt;t&&oo.setTimeout(()=>t(n,e))}var RP={closed:!0,next:ca,error:AP,complete:ca};var co=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(n){return n}function uo(...n){return bp(n)}function bp(n){return n.length===0?Rt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=NP(t)?t:new ao(t,r,i);return so(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Nw(r),new r((i,o)=>{let s=new ao({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[co](){return this}pipe(...t){return bp(t)(this)}toPromise(t){return t=Nw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Nw(n){var e;return(e=n??Yt.Promise)!==null&&e!==void 0?e:Promise}function MP(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function NP(n){return n&&n instanceof ri||MP(n)&&Su(n)}function Sp(n){return Y(n?.lift)}function fe(n){return e=>{if(Sp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Ap(n,e,t,r,i)}var Ap=class extends ri{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function lo(){return fe((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ho=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return lo()(this)}};var Pw=io(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Mu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Pw}next(t){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ep:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,ti(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new Mu(e,t),n})(),Mu=class extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ep}};var Ze=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rp={now(){return(Rp.delegate||Date).now()},delegate:void 0};var Nu=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var ua={setInterval(n,e,...t){let{delegate:r}=ua;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ua;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fo=class extends Nu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ua.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ti(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};po.now=Rp.now;var go=class extends po{constructor(e,t=po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Mp=new go(fo);var Pu=class extends fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var xu=class extends go{};var Np=new xu(Pu);var _t=new ne(n=>n.complete());function xw(n){return n&&Y(n.schedule)}function kw(n){return n[n.length-1]}function ku(n){return Y(kw(n))?n.pop():void 0}function mr(n){return xw(kw(n))?n.pop():void 0}function Pp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Fw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Ow(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ii(n){return this instanceof ii?(this.v=n,this):new ii(n)}function Lw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(R,L){o.push([y,M,R,L])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof ii?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Vw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ow=="function"?Ow(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ou=n=>n&&typeof n.length=="number"&&typeof n!="function";function Fu(n){return Y(n?.then)}function Lu(n){return Y(n[co])}function Vu(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function ju(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uu=PP();function Bu(n){return Y(n?.[Uu])}function $u(n){return Lw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ii(t.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{t.releaseLock()}})}function Hu(n){return Y(n?.getReader)}function Le(n){if(n instanceof ne)return n;if(n!=null){if(Lu(n))return xP(n);if(Ou(n))return kP(n);if(Fu(n))return OP(n);if(Vu(n))return jw(n);if(Bu(n))return FP(n);if(Hu(n))return LP(n)}throw ju(n)}function xP(n){return new ne(e=>{let t=n[co]();if(Y(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kP(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function OP(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Au)})}function FP(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function jw(n){return new ne(e=>{VP(n,e).catch(t=>e.error(t))})}function LP(n){return jw($u(n))}function VP(n,e){var t,r,i,o;return Fw(this,void 0,void 0,function*(){try{for(t=Vw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function It(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yr(n,e=0){return fe((t,r)=>{t.subscribe(ue(r,i=>It(r,n,()=>r.next(i),e),()=>It(r,n,()=>r.complete(),e),i=>It(r,n,()=>r.error(i),e)))})}function vr(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Uw(n,e){return Le(n).pipe(vr(e),yr(e))}function Bw(n,e){return Le(n).pipe(vr(e),yr(e))}function $w(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Hw(n,e){return new ne(t=>{let r;return It(t,e,()=>{r=n[Uu](),It(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function zu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{It(t,e,()=>{let r=n[Symbol.asyncIterator]();It(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function zw(n,e){return zu($u(n),e)}function qw(n,e){if(n!=null){if(Lu(n))return Uw(n,e);if(Ou(n))return $w(n,e);if(Fu(n))return Bw(n,e);if(Vu(n))return zu(n,e);if(Bu(n))return Hw(n,e);if(Hu(n))return zw(n,e)}throw ju(n)}function De(n,e){return e?qw(n,e):Le(n)}function q(...n){let e=mr(n);return De(n,e)}function mo(n,e){let t=Y(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function xp(n){return!!n&&(n instanceof ne||Y(n.lift)&&Y(n.subscribe))}var Hn=io(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return fe((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:jP}=Array;function UP(n,e){return jP(e)?n(...e):n(e)}function qu(n){return X(e=>UP(n,e))}var{isArray:BP}=Array,{getPrototypeOf:$P,prototype:HP,keys:zP}=Object;function Gu(n){if(n.length===1){let e=n[0];if(BP(e))return{args:e,keys:null};if(qP(e)){let t=zP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function qP(n){return n&&typeof n=="object"&&$P(n)===HP}function Wu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function la(...n){let e=mr(n),t=ku(n),{args:r,keys:i}=Gu(n);if(r.length===0)return De([],e);let o=new ne(GP(r,e,i?s=>Wu(i,s):Rt));return t?o.pipe(qu(t)):o}function GP(n,e,t=Rt){return r=>{Gw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Gw(e,()=>{let l=De(n[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Gw(n,e,t){n?It(t,n,e):e()}function Ww(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let R=!1;Le(t(M,h++)).subscribe(ue(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?It(e,s,()=>b(L)):b(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Oe(n,e,t=1/0){return Y(e)?Oe((r,i)=>X((o,s)=>e(r,o,i,s))(Le(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>Ww(r,i,n,t)))}function yo(n=1/0){return Oe(Rt,n)}function Kw(){return yo(1)}function vo(...n){return Kw()(De(n,mr(n)))}function Ku(n){return new ne(e=>{Le(n()).subscribe(e)})}function kp(...n){let e=ku(n),{args:t,keys:r}=Gu(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Le(t[h]).subscribe(ue(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Wu(r,a):a),o.complete())}))}});return e?i.pipe(qu(e)):i}function Et(n,e){return fe((t,r)=>{let i=0;t.subscribe(ue(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zn(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ue(t,void 0,void 0,s=>{o=Le(n(s,zn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Qw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function _r(n,e){return Y(e)?Oe(n,e,1):Oe(n,1)}function Ir(n){return fe((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zt(n){return n<=0?()=>_t:fe((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qu(n=WP){return fe((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function WP(){return new Hn}function da(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Et((i,o)=>n(i,o,r)):Rt,Zt(1),t?Ir(e):Qu(()=>new Hn))}function _o(n){return n<=0?()=>_t:fe((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Op(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Et((i,o)=>n(i,o,r)):Rt,_o(1),t?Ir(e):Qu(()=>new Hn))}function Yu(n,e){return fe(Qw(n,e,arguments.length>=2,!0))}function Zu(...n){let e=mr(n);return fe((t,r)=>{(e?vo(n,t,e):vo(n,t)).subscribe(r)})}function Mt(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;Le(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Fp(n){return fe((e,t)=>{Le(n).subscribe(ue(t,()=>t.complete(),ca)),!t.closed&&e.subscribe(t)})}function Je(n,e,t){let r=Y(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var jD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(UD(e,t)),this.code=e}};function KP(n){return`NG0${Math.abs(n)}`}function UD(n,e){return`${KP(n)}${e?": "+e:""}`}var BD=Symbol("InputSignalNode#UNSET"),QP=re(k({},Tu),{transformFn:void 0,applyValueToInputSignal(n,e){sa(n,e)}});function $D(n,e){let t=Object.create(QP);t.value=n,t.transformFn=e?.transform;function r(){if(oa(t),t.value===BD){let i=null;throw new U(-950,i)}return t.value}return r[Bt]=t,r}function Da(n){return{toString:n}.toString()}var Ju="__parameters__";function YP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function HD(n,e,t){return Da(()=>{let r=YP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ju)?u[Ju]:Object.defineProperty(u,Ju,{value:[]})[Ju];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var en=globalThis;function Ee(n){for(let e in n)if(n[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function ZP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Dt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Dt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Yw(n,e){return n?e?`${n} ${e}`:n:e||""}var JP=Ee({__forward_ref__:Ee});function Ta(n){return n.__forward_ref__=Ta,n.toString=function(){return Dt(this())},n}function gt(n){return zD(n)?n():n}function zD(n){return typeof n=="function"&&n.hasOwnProperty(JP)&&n.__forward_ref__===Ta}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function st(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ll(n){return Zw(n,GD)||Zw(n,WD)}function qD(n){return Ll(n)!==null}function Zw(n,e){return n.hasOwnProperty(e)?n[e]:null}function XP(n){let e=n&&(n[GD]||n[WD]);return e||null}function Jw(n){return n&&(n.hasOwnProperty(Xw)||n.hasOwnProperty(ex))?n[Xw]:null}var GD=Ee({\u0275prov:Ee}),Xw=Ee({\u0275inj:Ee}),WD=Ee({ngInjectableDef:Ee}),ex=Ee({ngInjectorDef:Ee}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KD(n){return n&&!!n.\u0275providers}var tx=Ee({\u0275cmp:Ee}),nx=Ee({\u0275dir:Ee}),rx=Ee({\u0275pipe:Ee}),ix=Ee({\u0275mod:Ee}),sl=Ee({\u0275fac:Ee}),ga=Ee({__NG_ELEMENT_ID__:Ee}),eD=Ee({__NG_ENV_ID__:Ee});function Vl(n){return typeof n=="string"?n:n==null?"":String(n)}function ox(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Vl(n)}function QD(n,e){throw new U(-200,n)}function kg(n,e){throw new U(-201,!1)}var te=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(te||{}),Yp;function YD(){return Yp}function wt(n){let e=Yp;return Yp=n,e}function ZD(n,e,t){let r=Ll(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&te.Optional)return null;if(e!==void 0)return e;kg(n,"Injector")}var sx={},oi=sx,Zp="__NG_DI_FLAG__",al=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Cu:oi,r)}},cl="ngTempTokenPath",ax="ngTokenPath",cx=/\n/gm,ux="\u0275",tD="__source";function lx(n,e=te.Default){if(aa()===void 0)throw new U(-203,!1);if(aa()===null)return ZD(n,void 0,e);{let t=aa(),r;return t instanceof al?r=t.injector:r=t,r.get(n,e&te.Optional?null:void 0,e)}}function $(n,e=te.Default){return(YD()||lx)(gt(n),e)}function P(n,e=te.Default){return $(n,jl(e))}function jl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jp(n){let e=[];for(let t=0;t<n.length;t++){let r=gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let a=r[s],u=dx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function JD(n,e){return n[Zp]=e,n.prototype[Zp]=e,n}function dx(n){return n[Zp]}function hx(n,e,t,r){let i=n[cl];throw e[tD]&&i.unshift(e[tD]),n.message=fx(`
`+n.message,i,t,r),n[ax]=i,n[cl]=null,n}function fx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ux?n.slice(2):n;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(cx,`
  `)}`}var Nt=JD(HD("Optional"),8);var px=JD(HD("SkipSelf"),4);function ai(n,e){let t=n.hasOwnProperty(sl);return t?n[sl]:null}function Og(n,e){n.forEach(t=>Array.isArray(t)?Og(t,e):e(t))}function XD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ul(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function gx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function mx(n,e,t){let r=Ca(n,e);return r>=0?n[r|1]=t:(r=~r,gx(n,r,e,t)),r}function Lp(n,e){let t=Ca(n,e);if(t>=0)return n[t|1]}function Ca(n,e){return yx(n,e,1)}function yx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ci={},$t=[],ya=new V(""),eT=new V("",-1),tT=new V(""),ll=class{get(e,t=oi){if(t===oi){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return t}};function nT(n,e){let t=n[ix]||null;if(!t&&e===!0)throw new Error(`Type ${Dt(n)} does not have '\u0275mod' property.`);return t}function ui(n){return n[tx]||null}function vx(n){return n[nx]||null}function _x(n){return n[rx]||null}function Tr(n){return{\u0275providers:n}}function Ix(...n){return{\u0275providers:rT(!0,n),\u0275fromNgModule:!0}}function rT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Og(e,s=>{let a=s;Xp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&iT(i,o),t}function iT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Fg(i,o=>{e(o,r)})}}function Xp(n,e,t,r){if(n=gt(n),!n)return!1;let i=null,o=Jw(n),s=!o&&ui(n);if(!o&&!s){let u=n.ngModule;if(o=Jw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Xp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Og(o.imports,h=>{Xp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&iT(l,e)}if(!a){let l=ai(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:tT,useValue:i,multi:!0},i),e({provide:ya,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Fg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Fg(n,e){for(let t of n)KD(t)&&(t=t.\u0275providers),Array.isArray(t)?Fg(t,e):e(t)}var Ex=Ee({provide:String,useValue:Ee});function oT(n){return n!==null&&typeof n=="object"&&Ex in n}function wx(n){return!!(n&&n.useExisting)}function Dx(n){return!!(n&&n.useFactory)}function bo(n){return typeof n=="function"}function Tx(n){return!!n.useClass}var Ul=new V(""),nl={},nD={},Vp;function Lg(){return Vp===void 0&&(Vp=new ll),Vp}var ot=class{},va=class extends ot{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,tg(e,s=>this.processProvider(s)),this.records.set(eT,Io(void 0,this)),i.has("environment")&&this.records.set(ot,Io(void 0,this));let o=this.records.get(Ul);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tT,$t,te.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Cu:oi,r)}destroy(){fa(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return fa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){fa(this);let t=$n(this),r=wt(void 0),i;try{return e()}finally{$n(t),wt(r)}}get(e,t=oi,r=te.Default){if(fa(this),e.hasOwnProperty(eD))return e[eD](this);r=jl(r);let i,o=$n(this),s=wt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Rx(e)&&Ll(e);l&&this.injectableDefInScope(l)?u=Io(eg(e),nl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&te.Self?Lg():this.parent;return t=r&te.Optional&&t===oi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[cl]=a[cl]||[]).unshift(Dt(e)),o)throw a;return hx(a,e,"R3InjectorError",this.source)}else throw a}finally{wt(s),$n(o)}}resolveInjectorInitializers(){let e=ce(null),t=$n(this),r=wt(void 0),i;try{let o=this.get(ya,$t,te.Self);for(let s of o)s()}finally{$n(t),wt(r),ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=gt(e);let t=bo(e)?e:gt(e&&e.provide),r=bx(e);if(!bo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Io(void 0,nl,!0),i.factory=()=>Jp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ce(null);try{return t.value===nD?QD(Dt(e)):t.value===nl&&(t.value=nD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Ax(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function eg(n){let e=Ll(n),t=e!==null?e.factory:ai(n);if(t!==null)return t;if(n instanceof V)throw new U(204,!1);if(n instanceof Function)return Cx(n);throw new U(204,!1)}function Cx(n){if(n.length>0)throw new U(204,!1);let t=XP(n);return t!==null?()=>t.factory(n):()=>new n}function bx(n){if(oT(n))return Io(void 0,n.useValue);{let e=sT(n);return Io(e,nl)}}function sT(n,e,t){let r;if(bo(n)){let i=gt(n);return ai(i)||eg(i)}else if(oT(n))r=()=>gt(n.useValue);else if(Dx(n))r=()=>n.useFactory(...Jp(n.deps||[]));else if(wx(n))r=(i,o)=>$(gt(n.useExisting),o!==void 0&&o&te.Optional?te.Optional:void 0);else{let i=gt(n&&(n.useClass||n.provide));if(Sx(n))r=()=>new i(...Jp(n.deps));else return ai(i)||eg(i)}return r}function fa(n){if(n.destroyed)throw new U(205,!1)}function Io(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Sx(n){return!!n.deps}function Ax(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Rx(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function tg(n,e){for(let t of n)Array.isArray(t)?tg(t,e):t&&KD(t)?tg(t.\u0275providers,e):e(t)}function at(n,e){let t;n instanceof va?(fa(n),t=n):t=new al(n);let r,i=$n(t),o=wt(void 0);try{return e()}finally{$n(i),wt(o)}}function Vg(){return YD()!==void 0||aa()!=null}function jg(n){if(!Vg())throw new U(-203,!1)}function Mx(n){let e=en.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Nx(n){return typeof n=="function"}var Kn=0,de=1,Z=2,mt=3,Xt=4,nn=5,dl=6,hl=7,Tt=8,So=9,Gn=10,He=11,_a=12,rD=13,ko=14,yn=15,Ao=16,Eo=17,Ro=18,Bl=19,aT=20,Er=21,jp=22,fl=23,Ht=24,To=25,tn=26,cT=1;var li=7,pl=8,gl=9,zt=10;function wr(n){return Array.isArray(n)&&typeof n[cT]=="object"}function Qn(n){return Array.isArray(n)&&n[cT]===!0}function uT(n){return(n.flags&4)!==0}function Oo(n){return n.componentOffset>-1}function Ug(n){return(n.flags&1)===1}function vn(n){return!!n.template}function ml(n){return(n[Z]&512)!==0}function Fo(n){return(n[Z]&256)===256}var ng=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function lT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var yi=(()=>{let n=()=>dT;return n.ngInherit=!0,n})();function dT(n){return n.type.prototype.ngOnChanges&&(n.setInput=xx),Px}function Px(){let n=fT(this),e=n?.current;if(e){let t=n.previous;if(t===ci)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xx(n,e,t,r,i){let o=this.declaredInputs[r],s=fT(n)||kx(n,{previous:ci,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ng(l&&l.currentValue,t,u===ci),lT(n,e,i,t)}var hT="__ngSimpleChanges__";function fT(n){return n[hT]||null}function kx(n,e){return n[hT]=e}var iD=null;var Te=function(n,e=null,t){iD?.(n,e,t)},Ox="svg",Fx="math";function _n(n){for(;Array.isArray(n);)n=n[Kn];return n}function pT(n,e){return _n(e[n])}function Dn(n,e){return _n(e[n.index])}function gT(n,e){return n.data[e]}function Lx(n,e){return n[e]}function Vx(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function In(n,e){let t=e[n];return wr(t)?t:t[Kn]}function Bg(n){return(n[Z]&128)===128}function jx(n){return Qn(n[mt])}function yl(n,e){return e==null?null:n[e]}function mT(n){n[Eo]=0}function yT(n){n[Z]&1024||(n[Z]|=1024,Bg(n)&&ba(n))}function Ux(n,e){for(;n>0;)e=e[ko],n--;return e}function $l(n){return!!(n[Z]&9216||n[Ht]?.dirty)}function rg(n){n[Gn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),$l(n)&&ba(n)}function ba(n){n[Gn].changeDetectionScheduler?.notify(0);let e=di(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Bg(e)));)e=di(e)}function vT(n,e){if(Fo(n))throw new U(911,!1);n[Er]===null&&(n[Er]=[]),n[Er].push(e)}function Bx(n,e){if(n[Er]===null)return;let t=n[Er].indexOf(e);t!==-1&&n[Er].splice(t,1)}function di(n){let e=n[mt];return Qn(e)?e[mt]:e}function _T(n){return n[hl]??=[]}function IT(n){return n.cleanup??=[]}var se={lFrame:AT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ig=!1;function $x(){return se.lFrame.elementDepthCount}function Hx(){se.lFrame.elementDepthCount++}function zx(){se.lFrame.elementDepthCount--}function ET(){return se.bindingsEnabled}function qx(){return se.skipHydrationRootTNode!==null}function Gx(n){return se.skipHydrationRootTNode===n}function Wx(){se.skipHydrationRootTNode=null}function we(){return se.lFrame.lView}function Ct(){return se.lFrame.tView}function $g(n){return se.lFrame.contextLView=n,n[Tt]}function Hg(n){return se.lFrame.contextLView=null,n}function bt(){let n=wT();for(;n!==null&&n.type===64;)n=n.parent;return n}function wT(){return se.lFrame.currentTNode}function Kx(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Sa(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function DT(){return se.lFrame.isParent}function Qx(){se.lFrame.isParent=!1}function TT(){return ig}function oD(n){let e=ig;return ig=n,e}function Yx(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Zx(n){return se.lFrame.bindingIndex=n}function Hl(){return se.lFrame.bindingIndex++}function Jx(n){let e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Xx(){return se.lFrame.inI18n}function ek(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,og(e)}function tk(){return se.lFrame.currentDirectiveIndex}function og(n){se.lFrame.currentDirectiveIndex=n}function nk(n){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function CT(n){se.lFrame.currentQueryIndex=n}function rk(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[nn]:null}function bT(n,e,t){if(t&te.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&te.Host);)if(i=rk(o),i===null||(o=o[ko],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=ST();return r.currentTNode=e,r.lView=n,!0}function zg(n){let e=ST(),t=n[de];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ST(){let n=se.lFrame,e=n===null?null:n.child;return e===null?AT(n):e}function AT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function RT(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var MT=RT;function qg(){let n=RT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ik(n){return(se.lFrame.contextLView=Ux(n,se.lFrame.contextLView))[Tt]}function Lo(){return se.lFrame.selectedIndex}function hi(n){se.lFrame.selectedIndex=n}function Gg(){let n=se.lFrame;return gT(n.tView,n.selectedIndex)}function ok(){return se.lFrame.currentNamespace}var NT=!0;function Wg(){return NT}function Kg(n){NT=n}function sk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function PT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function rl(n,e,t){xT(n,e,3,t)}function il(n,e,t,r){(n[Z]&3)===t&&xT(n,e,t,r)}function Up(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function xT(n,e,t,r){let i=r!==void 0?n[Eo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Eo]+=65536),(a<o||o==-1)&&(ak(n,t,e,u),n[Eo]=(n[Eo]&4294901760)+u+2),u++}function sD(n,e){Te(4,n,e);let t=ce(null);try{e.call(n)}finally{ce(t),Te(5,n,e)}}function ak(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Z]>>14<n[Eo]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,sD(a,o)):sD(a,o)}var Co=-1,fi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function ck(n){return(n.flags&8)!==0}function uk(n){return(n.flags&16)!==0}function lk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];dk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function kT(n){return n===3||n===4||n===6}function dk(n){return n.charCodeAt(0)===64}function Ia(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?aD(n,t,i,null,e[++r]):aD(n,t,i,null,null))}}return n}function aD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function OT(n){return n!==Co}function vl(n){return n&32767}function hk(n){return n>>16}function _l(n,e){let t=hk(n),r=e;for(;t>0;)r=r[ko],t--;return r}var sg=!0;function Il(n){let e=sg;return sg=n,e}var fk=256,FT=fk-1,LT=5,pk=0,mn={};function gk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),r==null&&(r=t[ga]=pk++);let i=r&FT,o=1<<i;e.data[n+(i>>LT)]|=o}function El(n,e){let t=VT(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,Bp(r.data,n),Bp(e,null),Bp(r.blueprint,null));let i=Qg(n,e),o=n.injectorIndex;if(OT(i)){let s=vl(i),a=_l(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Bp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Qg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=HT(i),r===null)return Co;if(t++,i=i[ko],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Co}function ag(n,e,t){gk(n,e,t)}function mk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(kT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function jT(n,e,t){if(t&te.Optional||n!==void 0)return n;kg(e,"NodeInjector")}function UT(n,e,t,r){if(t&te.Optional&&r===void 0&&(r=null),(t&(te.Self|te.Host))===0){let i=n[So],o=wt(void 0);try{return i?i.get(e,r,t&te.Optional):ZD(e,r,t&te.Optional)}finally{wt(o)}}return jT(r,e,t)}function BT(n,e,t,r=te.Default,i){if(n!==null){if(e[Z]&2048&&!(r&te.Self)){let s=Ek(n,e,t,r,mn);if(s!==mn)return s}let o=$T(n,e,t,r,mn);if(o!==mn)return o}return UT(e,t,r,i)}function $T(n,e,t,r,i){let o=_k(t);if(typeof o=="function"){if(!bT(e,n,r))return r&te.Host?jT(i,t,r):UT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))kg(t);else return s}finally{MT()}}else if(typeof o=="number"){let s=null,a=VT(n,e),u=Co,l=r&te.Host?e[yn][nn]:null;for((a===-1||r&te.SkipSelf)&&(u=a===-1?Qg(n,e):e[a+8],u===Co||!uD(r,!1)?a=-1:(s=e[de],a=vl(u),e=_l(u,e)));a!==-1;){let h=e[de];if(cD(o,a,h.data)){let p=yk(a,e,t,s,r,l);if(p!==mn)return p}u=e[a+8],u!==Co&&uD(r,e[de].data[a+8]===l)&&cD(o,a,e)?(s=h,a=vl(u),e=_l(u,e)):a=-1}}return i}function yk(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],u=r==null?Oo(a)&&sg:r!=s&&(a.type&3)!==0,l=i&te.Host&&o===a,h=vk(a,s,t,u,l);return h!==null?wl(e,s,h,a,i):mn}function vk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&t===b||y>=u&&b.type===t)return y}if(i){let y=s[u];if(y&&vn(y)&&y.type===t)return u}return null}function wl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof fi){let a=o;a.resolving&&QD(ox(s[t]));let u=Il(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?wt(a.injectImpl):null,p=bT(n,r,te.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sk(t,s[t],e)}finally{h!==null&&wt(h),Il(u),a.resolving=!1,MT()}}return o}function _k(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ga)?n[ga]:void 0;return typeof e=="number"?e>=0?e&FT:Ik:e}function cD(n,e,t){let r=1<<n;return!!(t[e+(n>>LT)]&r)}function uD(n,e){return!(n&te.Self)&&!(n&te.Host&&e)}var si=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return BT(this._tNode,this._lView,e,jl(r),t)}};function Ik(){return new si(bt(),we())}function Aa(n){return Da(()=>{let e=n.prototype.constructor,t=e[sl]||cg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[sl]||cg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cg(n){return zD(n)?()=>{let e=cg(gt(n));return e&&e()}:ai(n)}function Ek(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!ml(s);){let a=$T(o,s,t,r|te.Self,mn);if(a!==mn)return a;let u=o.parent;if(!u){let l=s[aT];if(l){let h=l.get(t,mn,r);if(h!==mn)return h}u=HT(s),s=s[ko]}o=u}return i}function HT(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[nn]:null}function Yg(n){return mk(bt(),n)}function lD(n,e=null,t=null,r){let i=zT(n,e,t,r);return i.resolveInjectorInitializers(),i}function zT(n,e=null,t=null,r,i=new Set){let o=[t||$t,Ix(n)];return r=r||(typeof n=="object"?void 0:Dt(n)),new va(o,e||Lg(),r||null,i)}var xe=class n{static THROW_IF_NOT_FOUND=oi;static NULL=new ll;static create(e,t){if(Array.isArray(e))return lD({name:""},t,e,"");{let r=e.name??"";return lD({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>$(eT)});static __NG_ELEMENT_ID__=-1};var wk=new V("");wk.__NG_ELEMENT_ID__=n=>{let e=bt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&te.Optional)return null;throw new U(204,!1)};var qT=!1,vi=(()=>{class n{static __NG_ELEMENT_ID__=Dk;static __NG_ENV_ID__=t=>t}return n})(),ug=class extends vi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Fo(t)?(e(),()=>{}):(vT(t,e),()=>Bx(t,e))}};function Dk(){return new ug(we())}var pi=class{},GT=new V("",{providedIn:"root",factory:()=>!1});var WT=new V(""),KT=new V(""),_i=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ze(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),zl=(()=>{class n{internalPendingTasks=P(_i);scheduler=P(pi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return _(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),lg=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Vg()&&(this.destroyRef=P(vi,{optional:!0})??void 0,this.pendingTasks=P(_i,{optional:!0})??void 0)}emit(e){let t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ve=lg;function Dl(...n){}function QT(n){let e,t;function r(){n=Dl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function dD(n){return queueMicrotask(()=>n()),()=>{n=Dl}}var Zg="isAngularZone",Tl=Zg+"_ID",Tk=0,he=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ve(!1);onMicrotaskEmpty=new Ve(!1);onStable=new Ve(!1);onError=new Ve(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qT}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Sk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ck,Dl,Dl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Ck={};function Jg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){QT(()=>{n.callbackScheduled=!1,dg(n),n.isCheckStableRunning=!0,Jg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),dg(n)}function Sk(n){let e=()=>{bk(n)},t=Tk++;n._inner=n._inner.fork({name:"angular",properties:{[Zg]:!0,[Tl]:t,[Tl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Ak(u))return r.invokeTask(o,s,a,u);try{return hD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return hD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Rk(u)&&e(),fD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,dg(n),Jg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function dg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fD(n){n._nesting--,Jg(n)}var Cl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ve;onMicrotaskEmpty=new Ve;onStable=new Ve;onError=new Ve;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Ak(n){return YT(n,"__ignore_ng_zone__")}function Rk(n){return YT(n,"__scheduler_tick__")}function YT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function Mk(n="zone.js",e){return n==="noop"?new Cl:n==="zone.js"?new he(e):n}var En=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Nk=new V("",{providedIn:"root",factory:()=>{let n=P(he),e=P(En);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function pD(n,e){return $D(n,e)}function Pk(n){return $D(BD,n)}var ZT=(pD.required=Pk,pD);function xk(){return ql(bt(),we())}function ql(n,e){return new Cr(Dn(n,e))}var Cr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=xk}return n})();function kk(n){return typeof n=="function"&&n[Bt]!==void 0}function Ra(n,e){let t=yp(n,e?.equal),r=t[Bt];return t.set=i=>sa(r,i),t.update=i=>vp(r,i),t.asReadonly=Ok.bind(t),t}function Ok(){let n=this[Bt];if(n.readonlyFn===void 0){let e=()=>this();e[Bt]=n,n.readonlyFn=e}return n.readonlyFn}function JT(n){return kk(n)&&typeof n.set=="function"}function XT(n){return(n.flags&128)===128}var eC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eC||{}),tC=new Map,Fk=0;function Lk(){return Fk++}function Vk(n){tC.set(n[Bl],n)}function hg(n){tC.delete(n[Bl])}var gD="__ngContext__";function Ma(n,e){wr(e)?(n[gD]=e[Bl],Vk(e)):n[gD]=e}function nC(n){return iC(n[_a])}function rC(n){return iC(n[Xt])}function iC(n){for(;n!==null&&!Qn(n);)n=n[Xt];return n}var fg;function oC(n){fg=n}function jk(){if(fg!==void 0)return fg;if(typeof document<"u")return document;throw new U(210,!1)}var Xg=new V("",{providedIn:"root",factory:()=>Uk}),Uk="ng",em=new V(""),br=new V("",{providedIn:"platform",factory:()=>"unknown"});var tm=new V("",{providedIn:"root",factory:()=>jk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Bk="h",$k="b";var sC=!1,Hk=new V("",{providedIn:"root",factory:()=>sC});var nm=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(nm||{}),Vo=new V(""),mD=new Set;function Na(n){mD.has(n)||(mD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var aC=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=zk}return n})();function zk(){return new aC(we(),bt())}var wo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(wo||{}),cC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),qk=[wo.EarlyRead,wo.Write,wo.MixedReadWrite,wo.Read],Gk=(()=>{class n{ngZone=P(he);scheduler=P(pi);errorHandler=P(En,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(Vo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Te(16),this.executing=!0;for(let r of qk)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Te(17)}register(t){let{view:r}=t;r!==void 0?((r[To]??=[]).push(t),ba(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(nm.AFTER_NEXT_RENDER,t):t()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),pg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[To];e&&(this.view[To]=e.filter(t=>t!==this))}};function rm(n,e){!e?.injector&&jg(rm);let t=e?.injector??P(xe);return Na("NgAfterNextRender"),Kk(n,t,e,!0)}function Wk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Kk(n,e,t,r){let i=e.get(cC);i.impl??=e.get(Gk);let o=e.get(Vo,null,{optional:!0}),s=t?.phase??wo.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(vi):null,u=e.get(aC,null,{optional:!0}),l=new pg(i.impl,Wk(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var Qk=(n,e,t,r)=>{};function Yk(n,e,t,r){Qk(n,e,t,r)}var Zk=()=>null;function uC(n,e,t=!1){return Zk(n,e,t)}function lC(n,e){let t=n.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];CT(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function gg(n,e,t){CT(0);let r=ce(null);try{e(n,t)}finally{ce(r)}}function dC(n,e,t){if(uT(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ce(r)}}}var wn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wn||{});var Xu;function Jk(){if(Xu===void 0&&(Xu=null,en.trustedTypes))try{Xu=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xu}function yD(n){return Jk()?.createScriptURL(n)||n}var bl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jD})`}};function Gl(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function hC(n,e){let t=Xk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jD})`)}return t===e}function Xk(n){return n instanceof bl&&n.getTypeName()||null}var eO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tO(n){return n=String(n),n.match(eO)?n:"unsafe:"+n}var im=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(im||{});function nO(n){let e=pC();return e?e.sanitize(im.URL,n)||"":hC(n,"URL")?Gl(n):tO(Vl(n))}function rO(n){let e=pC();if(e)return yD(e.sanitize(im.RESOURCE_URL,n)||"");if(hC(n,"ResourceURL"))return yD(Gl(n));throw new U(904,!1)}function iO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?rO:nO}function fC(n,e,t){return iO(e,t)(n)}function pC(){let n=we();return n&&n[Gn].sanitizer}function gC(n){return n instanceof Function?n():n}function oO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var mC="ng-template";function sO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(om(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function om(n){return n.type===4&&n.value!==mC}function aO(n,e,t){let r=n.type===4&&!t?mC:n.value;return e===r}function cO(n,e,t){let r=4,i=n.attrs,o=i!==null?dO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Jt(r)&&!Jt(u))return!1;if(s&&Jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!aO(n,u,t)||u===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!sO(n,i,u,t)){if(Jt(r))return!1;s=!0}}else{let l=e[++a],h=uO(u,i,om(n),t);if(h===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(n){return(n&1)===0}function uO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hO(e,n)}function lO(n,e,t=!1){for(let r=0;r<e.length;r++)if(cO(n,e[r],t))return!0;return!1}function dO(n){for(let e=0;e<n.length;e++){let t=n[e];if(kT(t))return e}return n.length}function hO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vD(n,e){return n?":not("+e.trim()+")":e}function fO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=vD(o,i),i=""),r=s,o=o||!Jt(r);t++}return i!==""&&(e+=vD(o,i)),e}function pO(n){return n.map(fO).join(",")}function gO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Jt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ii={};function mO(n,e){return n.createText(e)}function yO(n,e,t){n.setValue(e,t)}function yC(n,e,t){return n.createElement(e,t)}function Sl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function vC(n,e,t){n.appendChild(e,t)}function _D(n,e,t,r,i){r!==null?Sl(n,e,t,r,i):vC(n,e,t)}function vO(n,e,t){n.removeChild(null,e,t)}function _O(n,e,t){n.setAttribute(e,"style",t)}function IO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function _C(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&lk(n,e,r),i!==null&&IO(n,e,i),o!==null&&_O(n,e,o)}function sm(n,e,t,r,i,o,s,a,u,l,h){let p=tn+r,m=p+i,y=EO(p,m),b=typeof l=="function"?l():l;return y[de]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function EO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ii);return t}function wO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function am(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Kn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),mT(p),p[mt]=p[ko]=n,p[Tt]=t,p[Gn]=s||n&&n[Gn],p[He]=a||n&&n[He],p[So]=u||n&&n[So]||null,p[nn]=o,p[Bl]=Lk(),p[dl]=h,p[aT]=l,p[yn]=e.type==2?n[yn]:p,p}function DO(n,e,t){let r=Dn(e,n),i=wO(t),o=n[Gn].rendererFactory,s=cm(n,am(n,i,null,IC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function IC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function EC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cm(n,e){return n[_a]?n[rD][Xt]=e:n[_a]=e,n[rD]=e,e}function Pt(n=1){wC(Ct(),we(),Lo()+n,!1)}function wC(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&il(e,o,0,t)}hi(t)}var Wl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wl||{});function mg(n,e,t,r){let i=ce(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Wl.SignalBased)!==0&&(u=e[o][Bt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):lT(e,u,o,r)}finally{ce(i)}}function DC(n,e,t,r,i){let o=Lo(),s=r&2;try{hi(-1),s&&e.length>tn&&wC(n,e,tn,!1),Te(s?2:0,i),t(r,i)}finally{hi(o),Te(s?3:1,i)}}function um(n,e,t){RO(n,e,t),(t.flags&64)===64&&MO(n,e,t)}function TC(n,e,t=Dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function TO(n,e,t,r){let o=r.get(Hk,sC)||t===wn.ShadowDom,s=n.selectRootElement(e,o);return CO(s),s}function CO(n){bO(n)}var bO=()=>null;function SO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function CC(n,e,t,r,i,o,s,a){if(!a&&lm(e,n,t,r,i)){Oo(e)&&AO(t,e.index);return}if(e.type&3){let u=Dn(e,t);r=SO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function AO(n,e){let t=In(e,n);t[Z]&16||(t[Z]|=64)}function RO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Oo(t)&&DO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||El(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=wl(e,n,s,t);if(Ma(u,e),o!==null&&kO(e,s-r,u,a,t,o),vn(a)){let l=In(t.index,e);l[Tt]=wl(e,n,s,t)}}}function MO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tk();try{hi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];og(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&NO(u,l)}}finally{hi(-1),og(s)}}function NO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function bC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];lO(e,o.selectors,!1)&&(r??=[],vn(o)?r.unshift(o):r.push(o))}return r}function PO(n,e,t,r,i,o){let s=Dn(n,e);xO(e[He],s,o,n.value,t,r,i)}function xO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Vl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function kO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];mg(r,t,u,l)}}function OO(n,e){let t=n[So],r=t?t.get(En,null):null;r&&r.handleError(e)}function lm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];mg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];mg(h,l,r,i),a=!0}return a}function FO(n,e){let t=In(e,n),r=t[de];LO(r,t);let i=t[Kn];i!==null&&t[dl]===null&&(t[dl]=uC(i,t[So])),Te(18),dm(r,t,t[Tt]),Te(19,t[Tt])}function LO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function dm(n,e,t){zg(e);try{let r=n.viewQuery;r!==null&&gg(1,r,t);let i=n.template;i!==null&&DC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ro]?.finishViewCreation(n),n.staticContentQueries&&lC(n,e),n.staticViewQueries&&gg(2,n.viewQuery,t);let o=n.components;o!==null&&VO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,qg()}}function VO(n,e){for(let t=0;t<e.length;t++)FO(n,e[t])}function jO(n,e,t,r){let i=ce(null);try{let o=e.tView,a=n[Z]&4096?4096:16,u=am(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ao]=l;let h=n[Ro];return h!==null&&(u[Ro]=h.createEmbeddedView(o)),dm(o,u,t),u}finally{ce(i)}}function ID(n,e){return!e||e.firstChild===null||XT(n)}var UO;function hm(n,e){return UO(n,e)}var Wn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Wn||{});function SC(n){return(n.flags&32)===32}function Do(n,e,t,r,i){if(r!=null){let o,s=!1;Qn(r)?o=r:wr(r)&&(s=!0,r=r[Kn]);let a=_n(r);n===0&&t!==null?i==null?vC(e,t,a):Sl(e,t,a,i||null,!0):n===1&&t!==null?Sl(e,t,a,i||null,!0):n===2?vO(e,a,s):n===3&&e.destroyNode(a),o!=null&&JO(e,n,o,t,i)}}function BO(n,e){AC(n,e),e[Kn]=null,e[nn]=null}function $O(n,e,t,r,i,o){r[Kn]=i,r[nn]=e,Kl(n,r,t,1,i,o)}function AC(n,e){e[Gn].changeDetectionScheduler?.notify(9),Kl(n,e,e[He],2,null,null)}function HO(n){let e=n[_a];if(!e)return $p(n[de],n);for(;e;){let t=null;if(wr(e))t=e[_a];else{let r=e[zt];r&&(t=r)}if(!t){for(;e&&!e[Xt]&&e!==n;)wr(e)&&$p(e[de],e),e=e[mt];e===null&&(e=n),wr(e)&&$p(e[de],e),t=e&&e[Xt]}e=t}}function fm(n,e){let t=n[gl],r=t.indexOf(e);t.splice(r,1)}function RC(n,e){if(Fo(e))return;let t=e[He];t.destroyNode&&Kl(n,e,t,3,null,null),HO(e)}function $p(n,e){if(Fo(e))return;let t=ce(null);try{e[Z]&=-129,e[Z]|=256,e[Ht]&&pp(e[Ht]),qO(n,e),zO(n,e),e[de].type===1&&e[He].destroy();let r=e[Ao];if(r!==null&&Qn(e[mt])){r!==e[mt]&&fm(r,e);let i=e[Ro];i!==null&&i.detachView(n)}hg(e)}finally{ce(t)}}function zO(n,e){let t=n.cleanup,r=e[hl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[hl]=null);let i=e[Er];if(i!==null){e[Er]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[fl];if(o!==null){e[fl]=null;for(let s of o)s.destroy()}}function qO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function GO(n,e,t){return WO(n,e.parent,t)}function WO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kn];if(Oo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===wn.None||i===wn.Emulated)return null}return Dn(r,t)}function KO(n,e,t){return YO(n,e,t)}function QO(n,e,t){return n.type&40?Dn(n,t):null}var YO=QO,ED;function pm(n,e,t,r){let i=GO(n,r,e),o=e[He],s=r.parent||e[nn],a=KO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_D(o,i,t[u],a,!1);else _D(o,i,t,a,!1);ED!==void 0&&ED(o,r,e,t,i)}function pa(n,e){if(e!==null){let t=e.type;if(t&3)return Dn(e,n);if(t&4)return yg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pa(n,r);{let i=n[e.index];return Qn(i)?yg(-1,i):_n(i)}}else{if(t&128)return pa(n,e.next);if(t&32)return hm(e,n)()||_n(n[e.index]);{let r=MC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=di(n[yn]);return pa(i,r)}else return pa(n,e.next)}}}return null}function MC(n,e){if(e!==null){let r=n[yn][nn],i=e.projection;return r.projection[i]}return null}function yg(n,e){let t=zt+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return pa(r,i)}return e[li]}function gm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ma(_n(a),r),t.flags|=2),!SC(t))if(u&8)gm(n,e,t.child,r,i,o,!1),Do(e,n,i,a,o);else if(u&32){let l=hm(t,r),h;for(;h=l();)Do(e,n,i,h,o);Do(e,n,i,a,o)}else u&16?ZO(n,e,r,t,i,o):Do(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Kl(n,e,t,r,i,o){gm(t,r,n.firstChild,e,i,o,!1)}function ZO(n,e,t,r,i,o){let s=t[yn],u=s[nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Do(e,n,i,h,o)}else{let l=u,h=s[mt];XT(r)&&(l.flags|=128),gm(n,e,l,h,i,o,!0)}}function JO(n,e,t,r,i){let o=t[li],s=_n(t);o!==s&&Do(e,n,r,o,i);for(let a=zt;a<t.length;a++){let u=t[a];Kl(u[de],u,n,e,r,o)}}function XO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),n.setStyle(t,r,i,o))}}function Al(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(_n(o)),Qn(o)&&e1(o,r);let s=t.type;if(s&8)Al(n,e,t.child,r);else if(s&32){let a=hm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=MC(e,t);if(Array.isArray(a))r.push(...a);else{let u=di(e[yn]);Al(u[de],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function e1(n,e){for(let t=zt;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Al(r[de],r,i,e)}n[li]!==n[Kn]&&e.push(n[li])}function NC(n){if(n[To]!==null){for(let e of n[To])e.impl.addSequence(e);n[To].length=0}}var PC=[];function t1(n){return n[Ht]??n1(n)}function n1(n){let e=PC.pop()??Object.create(i1);return e.lView=n,e}function r1(n){n.lView[Ht]!==n&&(n.lView=null,PC.push(n))}var i1=re(k({},ia),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ba(n.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function o1(n){let e=n[Ht]??Object.create(s1);return e.lView=n,e}var s1=re(k({},ia),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=di(n.lView);for(;e&&!xC(e[de]);)e=di(e);e&&yT(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function xC(n){return n.type!==2}function kC(n){if(n[fl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var a1=100;function OC(n,e=!0,t=0){let i=n[Gn].rendererFactory,o=!1;o||i.begin?.();try{c1(n,t)}catch(s){throw e&&OO(n,s),s}finally{o||i.end?.()}}function c1(n,e){let t=TT();try{oD(!0),vg(n,e);let r=0;for(;$l(n);){if(r===a1)throw new U(103,!1);r++,vg(n,1)}}finally{oD(t)}}function u1(n,e,t,r){if(Fo(e))return;let i=e[Z],o=!1,s=!1;zg(e);let a=!0,u=null,l=null;o||(xC(n)?(l=t1(e),u=Eu(l)):cp()===null?(a=!1,l=o1(e),u=Eu(l)):e[Ht]&&(pp(e[Ht]),e[Ht]=null));try{mT(e),Zx(n.bindingStartIndex),t!==null&&DC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&rl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&il(e,y,0,null),Up(e,0)}if(s||l1(e),kC(e),FC(e,0),n.contentQueries!==null&&lC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&rl(e,y)}else{let y=n.contentHooks;y!==null&&il(e,y,1),Up(e,1)}h1(n,e);let p=n.components;p!==null&&VC(e,p,0);let m=n.viewQuery;if(m!==null&&gg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&rl(e,y)}else{let y=n.viewHooks;y!==null&&il(e,y,2),Up(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[jp]){for(let y of e[jp])y();e[jp]=null}o||(NC(e),e[Z]&=-73)}catch(h){throw o||ba(e),h}finally{l!==null&&(hp(l,u),a&&r1(l)),qg()}}function FC(n,e){for(let t=nC(n);t!==null;t=rC(t))for(let r=zt;r<t.length;r++){let i=t[r];LC(i,e)}}function l1(n){for(let e=nC(n);e!==null;e=rC(e)){if(!(e[Z]&2))continue;let t=e[gl];for(let r=0;r<t.length;r++){let i=t[r];yT(i)}}}function d1(n,e,t){Te(18);let r=In(e,n);LC(r,t),Te(19,r[Tt])}function LC(n,e){Bg(n)&&vg(n,e)}function vg(n,e){let r=n[de],i=n[Z],o=n[Ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fp(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)u1(r,n,r.template,n[Tt]);else if(i&8192){kC(n),FC(n,1);let a=r.components;a!==null&&VC(n,a,1),NC(n)}}function VC(n,e,t){for(let r=0;r<e.length;r++)d1(n,e[r],t)}function h1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)hi(~i);else{let o=i,s=t[++r],a=t[++r];ek(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{hi(-1)}}function mm(n,e){let t=TT()?64:1088;for(n[Gn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=di(n);if(ml(n)&&!r)return n;n=r}return null}function jC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function f1(n,e,t,r=!0){let i=e[de];if(p1(i,e,n,t),r){let s=yg(t,n),a=e[He],u=a.parentNode(n[li]);u!==null&&$O(i,n[nn],a,e,u,s)}let o=e[dl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _g(n,e){if(n.length<=zt)return;let t=zt+e,r=n[t];if(r){let i=r[Ao];i!==null&&i!==n&&fm(i,r),e>0&&(n[t-1][Xt]=r[Xt]);let o=ul(n,zt+e);BO(r[de],r);let s=o[Ro];s!==null&&s.detachView(o[de]),r[mt]=null,r[Xt]=null,r[Z]&=-129}return r}function p1(n,e,t,r){let i=zt+r,o=t.length;r>0&&(t[i-1][Xt]=e),r<o-zt?(e[Xt]=t[i],XD(t,zt+r,e)):(t.push(e),e[Xt]=null),e[mt]=t;let s=e[Ao];s!==null&&t!==s&&UC(s,e);let a=e[Ro];a!==null&&a.insertView(n),rg(e),e[Z]|=128}function UC(n,e){let t=n[gl],r=e[mt];if(wr(r))n[Z]|=2;else{let i=r[mt][yn];e[yn]!==i&&(n[Z]|=2)}t===null?n[gl]=[e]:t.push(e)}var Ea=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[de];return Al(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return Fo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Qn(e)){let t=e[pl],r=t?t.indexOf(this):-1;r>-1&&(_g(e,r),ul(t,r))}this._attachedToViewContainer=!1}RC(this._lView[de],this._lView)}onDestroy(e){vT(this._lView,e)}markForCheck(){mm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){rg(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,OC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ml(this._lView),t=this._lView[Ao];t!==null&&!e&&fm(t,this._lView),AC(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=ml(this._lView),r=this._lView[Ao];r!==null&&!t&&UC(r,this._lView),rg(this._lView)}};var Ql=(()=>{class n{static __NG_ELEMENT_ID__=y1}return n})(),g1=Ql,m1=class extends g1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=jO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ea(i)}};function y1(){return v1(bt(),we())}function v1(n,e){return n.type&4?new m1(e,n,ql(n,e)):null}function ym(n,e,t,r,i){let o=n.data[e];if(o===null)o=_1(n,e,t,r,i),Xx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Kx();o.injectorIndex=s===null?-1:s.injectorIndex}return Sa(o,!0),o}function _1(n,e,t,r,i){let o=wT(),s=DT(),a=s?o:o&&o.parent,u=n.data[e]=E1(n,a,t,e,r,i);return I1(n,u,o,s),u}function I1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function E1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return qx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var A8=new RegExp(`^(\\d+)*(${$k}|${Bk})*(.*)`);var w1=()=>null;function wD(n,e){return w1(n,e)}var D1=class{},BC=class{},Ig=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Dt(e)}.`)}},Yl=class{static NULL=new Ig},Mo=class{},Ei=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>T1()}return n})();function T1(){let n=we(),e=bt(),t=In(e.index,n);return(wr(t)?t:n)[He]}var C1=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Hp={},Eg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=jl(r);let i=this.injector.get(e,Hp,r);return i!==Hp||t===Hp?i:this.parentInjector.get(e,t,r)}};function DD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Yw(i,a);else if(o==2){let u=a,l=e[++s];r=Yw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function oe(n,e=te.Default){let t=we();if(t===null)return $(n,e);let r=bt();return BT(r,t,gt(n),e)}function $C(){let n="invalid";throw new Error(n)}function HC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=S1(s);h===null?a=s:[a,u,l]=h,M1(n,e,t,a,o,u,l)}o!==null&&r!==null&&b1(t,r,o)}function b1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function S1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&vn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,A1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function A1(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function R1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function M1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&vn(y)&&(u=!0,R1(n,t,m)),ag(El(t,e),n,y.type)}F1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=EC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Ia(t.mergedAttrs,y.hostAttrs),P1(n,t,e,p,y),O1(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}N1(n,t,o)}function N1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))TD(0,e,i,r),TD(1,e,i,r),bD(e,r,!1);else{let o=t.get(i);CD(0,e,o,r),CD(1,e,o,r),bD(e,r,!0)}}}function TD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),zC(e,o)}}function CD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),zC(e,s)}}function zC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function bD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||om(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function P1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ai(i.type,!0)),s=new fi(o,vn(i),oe);n.blueprint[r]=s,t[r]=s,x1(n,e,r,EC(n,t,i.hostVars,Ii),i)}function x1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;k1(s)!=a&&s.push(a),s.push(t,r,o)}}function k1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function O1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;vn(e)&&(t[""]=n)}}function F1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function qC(n,e,t,r,i,o,s,a){let u=e.consts,l=yl(u,s),h=ym(e,n,2,r,l);return o&&HC(e,t,h,yl(u,a),i),h.mergedAttrs=Ia(h.mergedAttrs,h.attrs),h.attrs!==null&&DD(h,h.attrs,!1),h.mergedAttrs!==null&&DD(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function GC(n,e){PT(n,e),uT(e)&&n.queries.elementEnd(e)}var Rl=class extends Yl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ui(e);return new No(t,this.ngModule)}};function L1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Wl.SignalBased)!==0};return i&&(o.transform=i),o})}function V1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function j1(n,e,t){let r=e instanceof ot?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Eg(t,r):t}function U1(n){let e=n.get(Mo,null);if(e===null)throw new U(407,!1);let t=n.get(C1,null),r=n.get(pi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function B1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return yC(e,t,t==="svg"?Ox:t==="math"?Fx:null)}var No=class extends BC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=L1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=V1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=pO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Te(22);let o=ce(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:gO(this.componentDef.selectors[0]),u=sm(0,null,null,1,0,null,null,null,null,[a],null),l=j1(s,i||this.ngModule,e),h=U1(l),p=h.rendererFactory.createRenderer(null,s),m=r?TO(p,r,s.encapsulation,l):B1(s,p),y=am(null,u,null,512|IC(s),null,null,h,p,l,null,uC(m,l,!0));y[tn]=m,zg(y);let b=null;try{let M=qC(tn,u,y,"#host",()=>[this.componentDef],!0,0);m&&(_C(p,m,M),Ma(m,y)),um(u,y,M),dC(u,M,y),GC(u,M),t!==void 0&&$1(M,this.ngContentSelectors,t),b=In(M.index,y),y[Tt]=b[Tt],dm(u,y,null)}catch(M){throw b!==null&&hg(b),hg(y),M}finally{Te(23),qg()}return new wg(this.componentType,y)}finally{ce(o)}}},wg=class extends D1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=gT(t[de],tn),this.location=ql(this._tNode,t),this.instance=In(this._tNode.index,t)[Tt],this.hostView=this.changeDetectorRef=new Ea(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=lm(r,i[de],i,e,t);this.previousInputValues.set(e,t);let s=In(r.index,i);mm(s,1)}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var jo=(()=>{class n{static __NG_ELEMENT_ID__=H1}return n})();function H1(){let n=bt();return q1(n,we())}var z1=jo,WC=class extends z1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qg(this._hostTNode,this._hostLView);if(OT(e)){let t=_l(e,this._hostLView),r=vl(e),i=t[de].data[r+8];return new si(i,t)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=SD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ID(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Nx(e),a;if(s)a=t;else{let b=t||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let u=s?e:new No(ui(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(ot,null);M&&(o=M)}let h=ui(u.componentType??{}),p=wD(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,ID(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(jx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[mt],l=new WC(u,u[nn],u[mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return f1(s,i,o,r),e.attachToViewContainerRef(),XD(zp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=SD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=_g(this._lContainer,t);r&&(ul(zp(this._lContainer),t),RC(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=_g(this._lContainer,t);return r&&ul(zp(this._lContainer),t)!=null?new Ea(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function SD(n){return n[pl]}function zp(n){return n[pl]||(n[pl]=[])}function q1(n,e){let t,r=e[n.index];return Qn(r)?t=r:(t=jC(r,e,null,n),e[n.index]=t,cm(e,t)),W1(t,e,n,r),new WC(t,n,e)}function G1(n,e){let t=n[He],r=t.createComment(""),i=Dn(e,n),o=t.parentNode(i);return Sl(t,o,r,t.nextSibling(i),!1),r}var W1=Y1,K1=()=>!1;function Q1(n,e,t){return K1(n,e,t)}function Y1(n,e,t,r){if(n[li])return;let i;t.type&8?i=_n(r):i=G1(e,t),n[li]=i}function Z1(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(tF))}return o}return Ml.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((p,m)=>{a.push(""),s.push(r(p).then(y=>{a[l+m]=y,h.splice(h.indexOf(p),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>nF(o));e.push(u)}),X1(),Promise.all(e).then(()=>{})}var Ml=new Map,J1=new Set;function X1(){let n=Ml;return Ml=new Map,n}function eF(){return Ml.size===0}function tF(n){return typeof n=="string"?n:n.text()}function nF(n){J1.delete(n)}var Po=class{},vm=class{};var Nl=class extends Po{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Rl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=nT(e);this._bootstrapComponents=gC(o.bootstrap),this._r3Injector=zT(e,t,[{provide:Po,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pl=class extends vm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Nl(this.moduleType,e,[])}};function rF(n,e,t){return new Nl(n,e,t,!1)}var Dg=class extends Po{injector;componentFactoryResolver=new Rl(this);instance=null;constructor(e){super();let t=new va([...e.providers,{provide:Po,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],e.parent||Lg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pa(n,e,t=null){return new Dg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var iF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=rT(!1,t.type),i=r.length>0?Pa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n($(ot))})}return n})();function Tn(n){return Da(()=>{let e=QC(n),t=re(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wn.Emulated,styles:n.styles||$t,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Na("NgStandalone"),YC(t);let r=n.dependencies;return t.directiveDefs=AD(r,!1),t.pipeDefs=AD(r,!0),t.id=uF(t),t})}function oF(n){return ui(n)||vx(n)}function sF(n){return n!==null}function ct(n){return Da(()=>({type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function aF(n,e){if(n==null)return ci;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Wl.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function cF(n){if(n==null)return ci;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xt(n){return Da(()=>{let e=QC(n);return YC(e),e})}function KC(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function QC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ci,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aF(n.inputs,e),outputs:cF(n.outputs),debugInfo:null}}function YC(n){n.features?.forEach(e=>e(n))}function AD(n,e){if(!n)return null;let t=e?_x:oF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(sF)}function uF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lF(n){return Object.getPrototypeOf(n.prototype).constructor}function Uo(n){let e=lF(n.type),t=!0,r=[n];for(;e;){let i;if(vn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=qp(n.inputs),s.declaredInputs=qp(n.declaredInputs),s.outputs=qp(n.outputs);let a=i.hostBindings;a&&gF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&fF(n,u),l&&pF(n,l),dF(n,i),ZP(n.outputs,i.outputs),vn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Uo&&(t=!1)}}e=Object.getPrototypeOf(e)}hF(r)}function dF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function hF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ia(i.hostAttrs,t=Ia(t,i.hostAttrs))}}function qp(n){return n===ci?{}:n===$t?[]:n}function fF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function pF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function gF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ZC(n){return yF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function yF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function vF(n,e,t){return n[e]=t}function Bo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _F(n,e,t,r,i,o,s,a,u){let l=e.consts,h=ym(e,n,4,s||null,a||null);ET()&&HC(e,t,h,yl(l,u),bC),h.mergedAttrs=Ia(h.mergedAttrs,h.attrs),PT(e,h);let p=h.tView=sm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function IF(n,e,t,r,i,o,s,a,u,l){let h=t+tn,p=e.firstCreatePass?_F(h,e,n,r,i,o,s,a,u):e.data[h];Sa(p,!1);let m=EF(e,n,p,t);Wg()&&pm(e,n,m,p),Ma(m,n);let y=jC(m,n,m,p);return n[h]=y,cm(n,y),Q1(y,p,n),Ug(p)&&um(e,n,p),u!=null&&TC(n,p,l),p}function xa(n,e,t,r,i,o,s,a){let u=we(),l=Ct(),h=yl(l.consts,o);return IF(u,l,n,e,t,r,i,h,s,a),xa}var EF=wF;function wF(n,e,t,r){return Kg(!0),e[He].createComment("")}var JC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var _m=new V(""),ka=new V(""),Zl=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,Vg()&&(this._destroyRef=P(vi,{optional:!0})??void 0),Im||(DF(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)($(he),$(Jl),$(ka))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Jl=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Im?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function DF(n){Im=n}var Im,TF=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Tg})}return n})(),Tg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Sr(n){return!!n&&typeof n.then=="function"}function Em(n){return!!n&&typeof n.subscribe=="function"}var XC=new V("");function wm(n){return Tr([{provide:XC,multi:!0,useValue:n}])}var eb=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(XC,{optional:!0})??[];injector=P(xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=at(this.injector,i);if(Sr(o))t.push(o);else if(Em(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dm=new V("");function CF(){mp(()=>{throw new U(600,!1)})}function bF(n){return n.isBoundToModule}var SF=10;function tb(n,e){return Array.isArray(e)?e.reduce(tb,n):k(k({},n),e)}var Dr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Nk);afterRenderManager=P(cC);zonelessEnabled=P(GT);rootEffectScheduler=P(TF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(_i).hasPendingTasks.pipe(X(t=>!t));constructor(){P(Vo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(ot);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=xe.NULL){Te(10);let o=t instanceof BC;if(!this._injector.get(eb).done){let y="";throw new U(405,y)}let a;o?a=t:a=this._injector.get(Yl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=bF(a)?void 0:this._injector.get(Po),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(_m,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),ol(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Te(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(nm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<SF;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)AF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$l(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ol(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Dm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ol(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ol(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function AF(n,e,t,r){if(!t&&!$l(n))return;OC(n,e,t&&!r?0:1)}function Xl(n,e,t,r){let i=we(),o=Hl();if(Bo(i,o,e)){let s=Ct(),a=Gg();PO(a,i,n,e,t,r)}return Xl}function RF(n,e,t,r){return Bo(n,Hl(),t)?e+Vl(t)+r:Ii}function el(n,e){return n<<17|e<<2}function gi(n){return n>>17&32767}function MF(n){return(n&2)==2}function NF(n,e){return n&131071|e<<17}function Cg(n){return n|2}function xo(n){return(n&131068)>>2}function Gp(n,e){return n&-131069|e<<2}function PF(n){return(n&1)===1}function bg(n){return n|1}function xF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gi(s),u=xo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ca(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=gi(n[a+1]);n[r+1]=el(m,a),m!==0&&(n[m+1]=Gp(n[m+1],r)),n[a+1]=NF(n[a+1],r)}else n[r+1]=el(a,0),a!==0&&(n[a+1]=Gp(n[a+1],r)),a=r;else n[r+1]=el(u,0),a===0?a=r:n[u+1]=Gp(n[u+1],r),u=r;l&&(n[r+1]=Cg(n[r+1])),RD(n,h,r,!0),RD(n,h,r,!1),kF(e,h,n,r,o),s=el(a,u),o?e.classBindings=s:e.styleBindings=s}function kF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ca(o,e)>=0&&(t[r+1]=bg(t[r+1]))}function RD(n,e,t,r){let i=n[t+1],o=e===null,s=r?gi(i):xo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];OF(u,e)&&(a=!0,n[s+1]=r?bg(l):Cg(l)),s=r?gi(l):xo(l)}a&&(n[t+1]=r?Cg(i):bg(i))}function OF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ca(n,e)>=0:!1}function $o(n,e,t){let r=we(),i=Hl();if(Bo(r,i,e)){let o=Ct(),s=Gg();CC(o,s,r,n,e,r[He],t,!1)}return $o}function MD(n,e,t,r,i){lm(e,n,t,i?"class":"style",r)}function Tm(n,e){return FF(n,e,null,!0),Tm}function FF(n,e,t,r){let i=we(),o=Ct(),s=Jx(2);if(o.firstUpdatePass&&VF(o,n,s,r),e!==Ii&&Bo(i,s,e)){let a=o.data[Lo()];HF(o,a,i,i[He],n,i[s+1]=zF(e,t),r,s)}}function LF(n,e){return e>=n.expandoStartIndex}function VF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Lo()],s=LF(n,t);qF(o,r)&&e===null&&!s&&(e=!1),e=jF(i,o,e,r),xF(i,o,e,t,s,r)}}function jF(n,e,t,r){let i=nk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Wp(null,n,e,t,r),t=wa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Wp(i,n,e,t,r),o===null){let u=UF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Wp(null,n,e,u[1],r),u=wa(u,e.attrs,r),BF(n,e,r,u))}else o=$F(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function UF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(xo(r)!==0)return n[gi(r)]}function BF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[gi(i)]=r}function $F(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=wa(r,s,t)}return wa(r,e.attrs,t)}function Wp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=wa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function wa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function HF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=PF(l)?ND(u,e,t,i,xo(l),s):void 0;if(!xl(h)){xl(o)||MF(l)&&(o=ND(u,null,t,i,a,s));let p=pT(Lo(),t);XO(r,s,p,i,o)}}function ND(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Ii&&(m=p?$t:void 0);let y=p?Lp(m,r):h===r?m:void 0;if(l&&!xl(y)&&(y=Lp(u,r)),xl(y)&&(a=y,s))return a;let b=n[i+1];i=s?gi(b):xo(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Lp(u,r))}return a}function xl(n){return n!==void 0}function zF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Dt(Gl(n)))),n}function qF(n,e){return(n.flags&(e?8:16))!==0}function Se(n,e,t,r){let i=we(),o=Ct(),s=tn+n,a=i[He],u=o.firstCreatePass?qC(s,o,i,e,bC,ET(),t,r):o.data[s],l=GF(o,i,u,a,e,n);i[s]=l;let h=Ug(u);return Sa(u,!0),_C(a,l,u),!SC(u)&&Wg()&&pm(o,i,l,u),($x()===0||h)&&Ma(l,i),Hx(),h&&(um(o,i,u),dC(o,u,i)),r!==null&&TC(i,u),Se}function Ce(){let n=bt();DT()?Qx():(n=n.parent,Sa(n,!1));let e=n;Gx(e)&&Wx(),zx();let t=Ct();return t.firstCreatePass&&GC(t,e),e.classesWithoutHost!=null&&ck(e)&&MD(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&uk(e)&&MD(t,e,we(),e.stylesWithoutHost,!1),Ce}function qt(n,e,t,r){return Se(n,e,t,r),Ce(),qt}var GF=(n,e,t,r,i,o)=>(Kg(!0),yC(r,i,ok()));function Cm(){return we()}var kl="en-US";var WF=kl;function KF(n){typeof n=="string"&&(WF=n.toLowerCase().replace(/_/g,"-"))}function PD(n,e,t){return function r(i){if(i===Function)return t;let o=Oo(n)?In(n.index,e):e;mm(o,5);let s=e[Tt],a=xD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=xD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function xD(n,e,t,r){let i=ce(null);try{return Te(6,e,t),t(r)!==!1}catch(o){return QF(n,o),!1}finally{Te(7,e,t),ce(i)}}function QF(n,e){let t=n[So],r=t?t.get(En,null):null;r&&r.handleError(e)}function kD(n,e,t,r,i,o){let s=e[t],a=e[de],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?IT(a):null,m=_T(e),y=h.subscribe(o),b=m.length;m.push(o,y),p&&p.push(i,n.index,b,-(b+1))}function Gt(n,e,t,r){let i=we(),o=Ct(),s=bt();return nb(o,i,i[He],s,n,e,r),Gt}function YF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[hl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function nb(n,e,t,r,i,o,s){let a=Ug(r),l=n.firstCreatePass?IT(n):null,h=_T(e),p=!0;if(r.type&3||s){let m=Dn(r,e),y=s?s(m):m,b=h.length,M=s?L=>s(_n(L[r.index])):r.index,R=null;if(!s&&a&&(R=YF(n,e,i,r.index)),R!==null){let L=R.__ngLastListenerFn__||R;L.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=PD(r,e,o),Yk(e,y,i,o);let L=t.listen(y,i,o);h.push(o,L),l&&l.push(i,M,b,b+1)}}else o=PD(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let b=0;b<y.length;b+=2){let M=y[b],R=y[b+1];kD(r,e,M,R,i,o)}if(m&&m.length)for(let b of m)kD(r,e,b,i,i,o)}}function bm(n=1){return ik(n)}function Xe(n,e=""){let t=we(),r=Ct(),i=n+tn,o=r.firstCreatePass?ym(r,i,1,e,null):r.data[i],s=ZF(r,t,o,e,n);t[i]=s,Wg()&&pm(r,t,s,o),Sa(o,!1)}var ZF=(n,e,t,r,i)=>(Kg(!0),mO(e[He],r));function ed(n){return rb("",n,""),ed}function rb(n,e,t){let r=we(),i=RF(r,n,e,t);return i!==Ii&&JF(r,Lo(),i),rb}function JF(n,e,t){let r=pT(e,n);yO(n[He],r,t)}function wi(n,e,t){JT(e)&&(e=e());let r=we(),i=Hl();if(Bo(r,i,e)){let o=Ct(),s=Gg();CC(o,s,r,n,e,r[He],t,!1)}return wi}function Ho(n,e){let t=JT(n);return t&&n.set(e),t}function Di(n,e){let t=we(),r=Ct(),i=bt();return nb(r,t,t[He],i,n,e),Di}function XF(n,e,t){let r=Ct();if(r.firstCreatePass){let i=vn(n);Sg(t,r.data,r.blueprint,i,!0),Sg(e,r.data,r.blueprint,i,!1)}}function Sg(n,e,t,r,i){if(n=gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Sg(n[o],e,t,r,i);else{let o=Ct(),s=we(),a=bt(),u=bo(n)?n:gt(n.provide),l=sT(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(bo(n)||!n.multi){let y=new fi(l,i,oe),b=Qp(u,e,i?h:h+m,p);b===-1?(ag(El(a,s),o,u),Kp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{let y=Qp(u,e,h+m,p),b=Qp(u,e,h,h+m),M=y>=0&&t[y],R=b>=0&&t[b];if(i&&!R||!i&&!M){ag(El(a,s),o,u);let L=nL(i?tL:eL,t.length,i,r,l);!i&&R&&(t[b].providerFactory=L),Kp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=ib(t[i?b:y],l,!i&&r);Kp(o,n,y>-1?y:b,L)}!i&&r&&R&&t[b].componentProviders++}}}function Kp(n,e,t,r){let i=bo(e),o=Tx(e);if(i||o){let u=(o?gt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function ib(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Qp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function eL(n,e,t,r,i){return Ag(this.multi,[])}function tL(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=wl(r,r[de],this.providerFactory.index,i);s=u.slice(0,a),Ag(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Ag(o,s);return s}function Ag(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function nL(n,e,t,r,i){let o=new fi(n,t,oe);return o.multi=[],o.index=e,o.componentProviders=0,ib(o,i,r&&!t),o}function Sm(n,e=[]){return t=>{t.providersResolver=(r,i)=>XF(r,i?i(n):n,e)}}function rL(n,e){let t=n[e];return t===Ii?void 0:t}function iL(n,e,t,r,i,o){let s=e+t;return Bo(n,s,i)?vF(n,s+1,o?r.call(o,i):r(i)):rL(n,s+1)}function ob(n,e){let t=Ct(),r,i=n+tn;t.firstCreatePass?(r=oL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ai(r.type,!0)),s,a=wt(oe);try{let u=Il(!1),l=o();return Il(u),Vx(t,we(),i,l),l}finally{wt(a)}}function oL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function sb(n,e,t){let r=n+tn,i=we(),o=Lx(i,r);return sL(i,r)?iL(i,Yx(),e,o.transform,t,o):o.transform(t)}function sL(n,e){return n[de].data[e].pure}var tl=null;function aL(n){tl!==null&&(n.defaultEncapsulation!==tl.defaultEncapsulation||n.preserveWhitespaces!==tl.preserveWhitespaces)||(tl=n)}var mi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ab=new mi("19.2.14"),Rg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cb=(()=>{class n{compileModuleSync(t){return new Pl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=nT(t),o=gC(i.declarations).reduce((s,a)=>{let u=ui(a);return u&&s.push(new No(u)),s},[]);return new Rg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cL=new V("");function uL(n,e,t){let r=new Pl(t);return Promise.resolve(r)}function OD(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var lL=(()=>{class n{zone=P(he);changeDetectionScheduler=P(pi);applicationRef=P(Dr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dL({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(re(k({},ub()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:ya,multi:!0,useFactory:()=>{let r=P(lL,{optional:!0});return()=>r.initialize()}},{provide:ya,multi:!0,useFactory:()=>{let r=P(hL);return()=>{r.initialize()}}},e===!0?{provide:WT,useValue:!0}:[],{provide:KT,useValue:t??qT}]}function ub(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var hL=(()=>{class n{subscription=new Pe;initialized=!1;zone=P(he);pendingTasks=P(_i);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fL=(()=>{class n{appRef=P(Dr);taskService=P(_i);ngZone=P(he);zonelessEnabled=P(GT);tracing=P(Vo,{optional:!0});disableScheduling=P(WT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(KT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?dD:QT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pL(){return typeof $localize<"u"&&$localize.locale||kl}var Am=new V("",{providedIn:"root",factory:()=>P(Am,te.Optional|te.SkipSelf)||pL()});var Ol=new V(""),gL=new V("");function ha(n){return!n.moduleRef}function mL(n){let e=ha(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{ha(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(En,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ha(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ol);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ol);s.add(o),n.moduleRef.onDestroy(()=>{ol(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return vL(r,t,()=>{let o=e.get(eb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Am,kl);if(KF(s||kl),!e.get(gL,!0))return ha(n)?e.get(Dr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ha(n)){let u=e.get(Dr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return yL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function yL(n,e){let t=n.injector.get(Dr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new U(-403,!1);e.push(n)}function vL(n,e,t){try{let r=t();return Sr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var lb=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>Mk(r?.ngZone,re(k({},ub({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[dL({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:pi,useExisting:fL}],u=rF(t.moduleType,this.injector,a);return mL({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=tb({},r);return uL(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Ol,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||n)($(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),ma=null,db=new V("");function _L(n){if(ma&&!ma.get(db,!1))throw new U(400,!1);CF(),ma=n;let e=n.get(lb);return wL(n),e}function Rm(n,e,t=[]){let r=`Platform: ${e}`,i=new V(r);return(o=[])=>{let s=hb();if(!s||s.injector.get(db,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):_L(IL(a,r))}return EL(i)}}function IL(n=[],e){return xe.create({name:e,providers:[{provide:Ul,useValue:"platform"},{provide:Ol,useValue:new Set([()=>ma=null])},...n]})}function EL(n){let e=hb();if(!e)throw new U(401,!1);return e}function hb(){return ma?.get(lb)??null}function wL(n){let e=n.get(em,null);at(n,()=>{e?.forEach(t=>t())})}function Mm(){return!1}var Ar=(()=>{class n{static __NG_ELEMENT_ID__=DL}return n})();function DL(n){return TL(bt(),we(),(n&16)===16)}function TL(n,e,t){if(Oo(n)&&!t){let r=In(n.index,e);return new Ea(r,r)}else if(n.type&175){let r=e[yn];return new Ea(r,e)}return null}var Mg=class{constructor(){}supports(e){return ZC(e)}create(e){return new Ng(e)}},CL=(n,e)=>e,Ng=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||CL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<FD(r,i,o)?t:r,a=FD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ZC(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,mF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Pg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Pg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},xg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Fl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new xg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function FD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function LD(){return new Nm([new Mg])}var Nm=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:LD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LD()),deps:[[n,new px,new Nt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();var fb=Rm(null,"core",[]),pb=(()=>{class n{constructor(t){}static \u0275fac=function(r){return new(r||n)($(Dr))};static \u0275mod=ct({type:n});static \u0275inj=st({})}return n})();function Ti(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function rn(n){return _p(n)}function Oa(n,e){return gp(n,e?.equal)}var VD=class{[Bt];constructor(e){this[Bt]=e}destroy(){this[Bt].destroy()}};function gb(n){let e=ui(n);if(!e)return null;let t=new No(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qe=new V("");var vb=null;function kt(){return vb}function Pm(n){vb??=n}var Fa=class{},La=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(_b),providedIn:"platform"})}return n})(),xm=new V(""),_b=(()=>{class n extends La{_location;_history;_doc=P(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kt().getBaseHref(this._doc)}onPopState(t){let r=kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function td(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function mb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function on(n){return n&&n[0]!=="?"?`?${n}`:n}var sn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(rd),providedIn:"root"})}return n})(),nd=new V(""),rd=(()=>{class n extends sn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return td(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+on(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(La),$(nd,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rr=(()=>{class n{_subject=new Fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=AL(mb(yb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+on(r))}normalize(t){return n.stripTrailingSlash(SL(this._basePath,yb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+on(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+on(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=on;static joinWithSlash=td;static stripTrailingSlash=mb;static \u0275fac=function(r){return new(r||n)($(sn))};static \u0275prov=B({token:n,factory:()=>bL(),providedIn:"root"})}return n})();function bL(){return new Rr($(sn))}function SL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function yb(n){return n.replace(/\/index.html$/,"")}function AL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Fm=(()=>{class n extends sn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=td(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(La),$(nd,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var id=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new id(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Ib(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Ib(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(jo),oe(Ql),oe(Nm))};static \u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Ib(n,e){n.context.$implicit=e.item}var Lm=(()=>{class n{_viewContainer;_context=new od;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Eb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Eb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(jo),oe(Ql))};static \u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),od=class{$implicit=null;ngIf=null};function Eb(n,e){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}function RL(n,e){return new U(2100,!1)}var km=class{createSubscription(e,t){return rn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){rn(()=>e.unsubscribe())}},Om=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},ML=new Om,NL=new km,Vm=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Sr(t))return ML;if(Em(t))return NL;throw RL(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(oe(Ar,16))};static \u0275pipe=KC({name:"async",type:n,pure:!1})}return n})();var jm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ct({type:n});static \u0275inj=st({})}return n})();function Um(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Bm="browser",wb="server";function ad(n){return n===wb}var Va=class{};var Db=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new $m(P(qe),window)})}return n})(),$m=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=PL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function PL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ld=new V(""),Wm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(ld),$(he))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),ja=class{_doc;constructor(e){this._doc=e}manager},cd="ng-app-id";function Tb(n){for(let e of n)e.remove()}function Cb(n,e){let t=e.createElement("style");return t.textContent=n,t}function xL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${cd}="${e}"],link[${cd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(cd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function qm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Km=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ad(o),xL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Cb);r?.forEach(i=>this.addUsage(i,this.external,qm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Tb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Tb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Cb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,qm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(cd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($(qe),$(Xg),$(tm,8),$(br))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qm=/%COMP%/g;var Sb="%COMP%",kL=`_nghost-${Sb}`,OL=`_ngcontent-${Sb}`,FL=!0,LL=new V("",{providedIn:"root",factory:()=>FL});function VL(n){return OL.replace(Qm,n)}function jL(n){return kL.replace(Qm,n)}function Ab(n,e){return e.map(t=>t.replace(Qm,n))}var Ym=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=ad(a),this.defaultRenderer=new Ua(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wn.ShadowDom&&(r=re(k({},r),{encapsulation:wn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ud?i.applyToHost(t):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case wn.Emulated:o=new ud(u,l,r,this.appId,h,s,a,p,m);break;case wn.ShadowDom:return new Gm(u,l,t,r,s,a,this.nonce,p,m);default:o=new Ba(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(Wm),$(Km),$(Xg),$(LL),$(qe),$(br),$(he),$(tm),$(Vo,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Ua=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(zm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=zm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=zm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(t,r,i&Wn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Wn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=kt().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function bb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Gm=class extends Ua{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Ab(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=qm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?Ab(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ud=class extends Ba{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=VL(h),this.hostAttr=jL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var dd=class n extends Fa{supportsDOMEvents=!0;static makeCurrent(){Pm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=UL();return t==null?null:BL(t)}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Um(document.cookie,e)}},$a=null;function UL(){return $a=$a||document.head.querySelector("base"),$a?$a.getAttribute("href"):null}function BL(n){return new URL(n,document.baseURI).pathname}var hd=class{addToWindow(e){en.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new U(5103,!1);return o},en.getAllAngularTestabilities=()=>e.getAllTestabilities(),en.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=en.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};en.frameworkStabilizers||(en.frameworkStabilizers=[]),en.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?kt().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},$L=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Mb=(()=>{class n extends ja{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($(qe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Rb=["alt","control","meta","shift"],HL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Nb=(()=>{class n extends ja{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Rb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=HL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Rb.forEach(s=>{if(s!==i){let a=zL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($(qe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function qL(){dd.makeCurrent()}function GL(){return new En}function WL(){return oC(document),document}var KL=[{provide:br,useValue:Bm},{provide:em,useValue:qL,multi:!0},{provide:qe,useFactory:WL}],Zm=Rm(fb,"browser",KL);var QL=[{provide:ka,useClass:hd},{provide:_m,useClass:Zl,deps:[he,Jl,ka]},{provide:Zl,useClass:Zl,deps:[he,Jl,ka]}],YL=[{provide:Ul,useValue:"root"},{provide:En,useFactory:GL},{provide:ld,useClass:Mb,multi:!0,deps:[qe]},{provide:ld,useClass:Nb,multi:!0,deps:[qe]},Ym,Km,Wm,{provide:Mo,useExisting:Ym},{provide:Va,useClass:$L},[]],Jm=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ct({type:n});static \u0275inj=st({providers:[...YL,...QL],imports:[jm,pb]})}return n})();var Pb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($(qe))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",tc=Symbol("RouteTitle"),ry=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Si(n){return new ry(n)}function Ub(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function JL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Cn(n[t],e[t]))return!1;return!0}function Cn(n,e){let t=n?iy(n):void 0,r=e?iy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Bb(n[i],e[i]))return!1;return!0}function iy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Bb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function $b(n){return n.length>0?n[n.length-1]:null}function kr(n){return xp(n)?n:Sr(n)?De(Promise.resolve(n)):q(n)}var XL={exact:zb,subset:qb},Hb={exact:eV,subset:tV,ignored:()=>!0};function xb(n,e,t){return XL[t.paths](n.root,e.root,t.matrixParams)&&Hb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function eV(n,e){return Cn(n,e)}function zb(n,e,t){if(!Ci(n.segments,e.segments)||!gd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!zb(n.children[r],e.children[r],t))return!1;return!0}function tV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bb(n[t],e[t]))}function qb(n,e,t){return Gb(n,e,e.segments,t)}function Gb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ci(i,t)||e.hasChildren()||!gd(i,t,r))}else if(n.segments.length===t.length){if(!Ci(n.segments,t)||!gd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!qb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ci(n.segments,i)||!gd(n.segments,i,r)||!n.children[ee]?!1:Gb(n.children[ee],e,o,r)}}function gd(n,e,t){return e.every((r,i)=>Hb[t](n[i].parameters,r.parameters))}var Sn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return iV.serialize(this)}},me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return md(this)}},Mr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Si(this.parameters),this._parameterMap}toString(){return Kb(this)}};function nV(n,e){return Ci(n,e)&&n.every((t,r)=>Cn(t.parameters,e[r].parameters))}function Ci(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function rV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var Ai=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new Nr,providedIn:"root"})}return n})(),Nr=class{parse(e){let t=new sy(e);return new Sn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ha(e.root,!0)}`,r=aV(e.queryParams),i=typeof e.fragment=="string"?`#${oV(e.fragment)}`:"";return`${t}${r}${i}`}},iV=new Nr;function md(n){return n.segments.map(e=>Kb(e)).join("/")}function Ha(n,e){if(!n.hasChildren())return md(n);if(e){let t=n.children[ee]?Ha(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Ha(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rV(n,(r,i)=>i===ee?[Ha(n.children[ee],!1)]:[`${i}:${Ha(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${md(n)}/${t[0]}`:`${md(n)}/(${t.join("//")})`}}function Wb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fd(n){return Wb(n).replace(/%3B/gi,";")}function oV(n){return encodeURI(n)}function oy(n){return Wb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yd(n){return decodeURIComponent(n)}function kb(n){return yd(n.replace(/\+/g,"%20"))}function Kb(n){return`${oy(n.path)}${sV(n.parameters)}`}function sV(n){return Object.entries(n).map(([e,t])=>`;${oy(e)}=${oy(t)}`).join("")}function aV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${fd(t)}=${fd(i)}`).join("&"):`${fd(t)}=${fd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var cV=/^[^\/()?;#]+/;function Xm(n){let e=n.match(cV);return e?e[0]:""}var uV=/^[^\/()?;=#]+/;function lV(n){let e=n.match(uV);return e?e[0]:""}var dV=/^[^=?&#]+/;function hV(n){let e=n.match(dV);return e?e[0]:""}var fV=/^[^&#]+/;function pV(n){let e=n.match(fV);return e?e[0]:""}var sy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new me(e,t)),r}parseSegment(){let e=Xm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Mr(yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=lV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Xm(this.remaining);i&&(r=i,this.capture(r))}e[yd(t)]=yd(r)}parseQueryParam(e){let t=hV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=pV(this.remaining);s&&(r=s,this.capture(r))}let i=kb(t),o=kb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ee]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function Qb(n){return n.segments.length>0?new me([],{[ee]:n}):n}function Yb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Yb(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new me(n.segments,e);return gV(t)}function gV(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new me(n.segments.concat(e.segments),e.children)}return n}function Pr(n){return n instanceof Sn}function Zb(n,e,t=null,r=null){let i=Jb(n);return Xb(i,e,t,r)}function Jb(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Qb(r);return e??i}function Xb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ey(i,i,i,t,r);let o=mV(e);if(o.toRoot())return ey(i,i,new me([],{}),t,r);let s=yV(o,i,n),a=s.processChildren?qa(s.segmentGroup,s.index,o.commands):tS(s.segmentGroup,s.index,o.commands);return ey(i,s.segmentGroup,a,t,r)}function _d(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Wa(n){return typeof n=="object"&&n!=null&&n.outlets}function ey(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=eS(n,e,t);let a=Qb(Yb(s));return new Sn(a,o,i)}function eS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=eS(o,e,t)}),new me(n.segments,r)}var Id=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_d(r[0]))throw new U(4003,!1);let i=r.find(Wa);if(i&&i!==$b(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Id(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Id(t,e,r)}var Go=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function yV(n,e,t){if(n.isAbsolute)return new Go(e,!0,0);if(!t)return new Go(e,!1,NaN);if(t.parent===null)return new Go(t,!0,0);let r=_d(n.commands[0])?0:1,i=t.segments.length-1+r;return vV(t,i,n.numberOfDoubleDots)}function vV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Go(r,!1,i-o)}function _V(n){return Wa(n[0])?n[0].outlets:{[ee]:n}}function tS(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return qa(n,e,t);let r=IV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new me(n.segments.slice(0,r.pathIndex),{});return o.children[ee]=new me(n.segments.slice(r.pathIndex),n.children),qa(o,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?ay(n,e,t):r.match?qa(n,0,i):ay(n,e,t)}function qa(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=_V(t),i={};if(Object.keys(r).some(o=>o!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let o=qa(n.children[ee],e,t);return new me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=tS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(n.segments,i)}}function IV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Wa(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Fb(u,l,s))return o;r+=2}else{if(!Fb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ay(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Wa(o)){let u=EV(o.outlets);return new me(r,u)}if(i===0&&_d(t[0])){let u=n.segments[e];r.push(new Mr(u.path,Ob(t[0]))),i++;continue}let s=Wa(o)?o.outlets[ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&_d(a)?(r.push(new Mr(s,Ob(a))),i+=2):(r.push(new Mr(s,{})),i++)}return new me(r,{})}function EV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ay(new me([],{}),0,r))}),e}function Ob(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Fb(n,e,t){return n==t.path&&Cn(e,t.parameters)}var vd="imperative",ze=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ze||{}),Ft=class{id;url;constructor(e,t){this.id=e,this.url=t}},xr=class extends Ft{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends Ft{urlAfterRedirects;type=ze.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(St||{}),Ko=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ko||{}),bn=class extends Ft{reason;code;type=ze.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},An=class extends Ft{reason;code;type=ze.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Qo=class extends Ft{error;target;type=ze.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ka=class extends Ft{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ed=class extends Ft{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wd=class extends Ft{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dd=class extends Ft{urlAfterRedirects;state;type=ze.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Td=class extends Ft{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cd=class{route;type=ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bd=class{route;type=ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sd=class{snapshot;type=ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ad=class{snapshot;type=ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{snapshot;type=ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Md=class{snapshot;type=ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yo=class{routerEvent;position;anchor;type=ze.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Qa=class{},Zo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wV(n,e){return n.providers&&!n._injector&&(n._injector=Pa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function an(n){return n.outlet||ee}function DV(n,e){let t=n.filter(r=>an(r)===e);return t.push(...n.filter(r=>an(r)!==e)),t}function nc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Nd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return nc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ri(this.rootInjector)}},Ri=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(ot))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=cy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=cy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=uy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uy(e,this._root).map(t=>t.value)}};function cy(n,e){if(n===e.value)return e;for(let t of e.children){let r=cy(n,t);if(r)return r}return null}function uy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=uy(n,t);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function qo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ya=class extends Pd{snapshot;constructor(e,t){super(e),this.snapshot=t,yy(this,e)}toString(){return this.snapshot.toString()}};function nS(n){let e=TV(n),t=new Ze([new Mr("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new Yn(t,r,o,s,i,ee,n,e.root);return a.snapshot=e.root,new Ya(new Ot(a,[]),e)}function TV(n){let e={},t={},r={},i="",o=new bi([],e,r,i,t,ee,n,null,{});return new Za("",new Ot(o,[]))}var Yn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[tc]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Si(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Si(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&iS(i)&&(r.resolve[tc]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[tc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Za=class extends Pd{url;constructor(e,t){super(t),this.url=e,yy(this,t)}toString(){return rS(this._root)}};function yy(n,e){e.value._routerState=n,e.children.forEach(t=>yy(n,t))}function rS(n){let e=n.children.length>0?` { ${n.children.map(rS).join(", ")} } `:"";return`${n.value}${e}`}function ty(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Cn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Cn(e.params,t.params)||n.paramsSubject.next(t.params),JL(e.url,t.url)||n.urlSubject.next(t.url),Cn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ly(n,e){let t=Cn(n.params,e.params)&&nV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ly(n.parent,e.parent))}function iS(n){return typeof n.title=="string"||n.title===null}var oS=new V(""),rc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new Ve;deactivateEvents=new Ve;attachEvents=new Ve;detachEvents=new Ve;routerOutletData=ZT(void 0);parentContexts=P(Ri);location=P(jo);changeDetector=P(Ar);inputBinder=P(ic,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new dy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[yi]})}return n})(),dy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Yn?this.route:e===Ri?this.childContexts:e===oS?this.outletData:this.parent.get(e,t)}},ic=new V(""),vy=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=la([r.queryParams,r.params,r.data]).pipe(Mt(([o,s,a],u)=>(a=k(k(k({},o),s),a),u===0?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=gb(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),_y=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&qt(0,"router-outlet")},dependencies:[rc],encapsulation:2})}return n})();function Iy(n){let e=n.children&&n.children.map(Iy),t=e?re(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=_y),t}function CV(n,e,t){let r=Ja(n,e._root,t?t._root:void 0);return new Ya(r,e)}function Ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=bV(n,e,t);return new Ot(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ja(n,a)),s}}let r=SV(e.value),i=e.children.map(o=>Ja(n,o));return new Ot(r,i)}}function bV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ja(n,r,i);return Ja(n,r)})}function SV(n){return new Yn(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var Jo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},sS="ngNavigationCancelingError";function kd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Pr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aS(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function aS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[sS]=!0,t.cancellationCode=e,t}function AV(n){return cS(n)&&Pr(n.url)}function cS(n){return!!n&&n[sS]}var RV=(n,e,t,r)=>X(i=>(new hy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),hy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ty(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=qo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=qo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Md(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ad(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ty(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ty(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Od=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function MV(n,e,t){let r=n._root,i=e?e._root:null;return za(r,i,t,[r.value])}function NV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function es(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!qD(n)?n:e.get(n):r}function za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qo(e);return n.children.forEach(s=>{PV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,t.getContext(s),i)),i}function PV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=xV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Od(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?za(n,e,a?a.children:null,r,i):za(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wo(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Od(r)),o.component?za(n,null,a?a.children:null,r,i):za(n,null,t,r,i);return i}function xV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ci(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ci(n.url,e.url)||!Cn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ly(n,e)||!Cn(n.queryParams,e.queryParams);case"paramsChange":default:return!ly(n,e)}}function Ga(n,e,t){let r=qo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),t):Ga(s,null,t):Ga(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Wo(e.outlet.component,i)):t.canDeactivateChecks.push(new Wo(null,i)):t.canDeactivateChecks.push(new Wo(null,i))}function oc(n){return typeof n=="function"}function kV(n){return typeof n=="boolean"}function OV(n){return n&&oc(n.canLoad)}function FV(n){return n&&oc(n.canActivate)}function LV(n){return n&&oc(n.canActivateChild)}function VV(n){return n&&oc(n.canDeactivate)}function jV(n){return n&&oc(n.canMatch)}function uS(n){return n instanceof Hn||n?.name==="EmptyError"}var pd=Symbol("INITIAL_VALUE");function Xo(){return Mt(n=>la(n.map(e=>e.pipe(Zt(1),Zu(pd)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===pd)return pd;if(t===!1||UV(t))return t}return!0}),Et(e=>e!==pd),Zt(1)))}function UV(n){return Pr(n)||n instanceof Jo}function BV(n,e){return Oe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(re(k({},t),{guardsResult:!0})):$V(s,r,i,n).pipe(Oe(a=>a&&kV(a)?HV(r,o,n,e):q(a)),X(a=>re(k({},t),{guardsResult:a})))})}function $V(n,e,t,r){return De(n).pipe(Oe(i=>KV(i.component,i.route,t,e,r)),qn(i=>i!==!0,!0))}function HV(n,e,t,r){return De(e).pipe(_r(i=>vo(qV(i.route.parent,r),zV(i.route,r),WV(n,i.path,t),GV(n,i.route,t))),qn(i=>i!==!0,!0))}function zV(n,e){return n!==null&&e&&e(new Rd(n)),q(!0)}function qV(n,e){return n!==null&&e&&e(new Sd(n)),q(!0)}function GV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Ku(()=>{let s=nc(e)??t,a=es(o,s),u=FV(a)?a.canActivate(e,n):at(s,()=>a(e,n));return kr(u).pipe(qn())}));return q(i).pipe(Xo())}function WV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>NV(s)).filter(s=>s!==null).map(s=>Ku(()=>{let a=s.guards.map(u=>{let l=nc(s.node)??t,h=es(u,l),p=LV(h)?h.canActivateChild(r,n):at(l,()=>h(r,n));return kr(p).pipe(qn())});return q(a).pipe(Xo())}));return q(o).pipe(Xo())}function KV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=nc(e)??i,l=es(a,u),h=VV(l)?l.canDeactivate(n,e,t,r):at(u,()=>l(n,e,t,r));return kr(h).pipe(qn())});return q(s).pipe(Xo())}function QV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=es(s,n),u=OV(a)?a.canLoad(e,t):at(n,()=>a(e,t));return kr(u)});return q(o).pipe(Xo(),lS(r))}function lS(n){return uo(Je(e=>{if(typeof e!="boolean")throw kd(n,e)}),X(e=>e===!0))}function YV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=es(s,n),u=jV(a)?a.canMatch(e,t):at(n,()=>a(e,t));return kr(u)});return q(o).pipe(Xo(),lS(r))}var Xa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ec=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function zo(n){return mo(new Xa(n))}function ZV(n){return mo(new U(4e3,!1))}function JV(n){return mo(aS(!1,St.GuardRejected))}var fy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ee])return ZV(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:b,title:M}=i,R=at(o,()=>a({params:y,data:b,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Sn)throw new ec(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ec(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Sn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XV(n,e,t,r,i){let o=dS(n,e,t);return o.matched?(r=wV(e,r),YV(r,e,t,i).pipe(X(s=>s===!0?o:k({},py)))):q(o)}function dS(n,e,t){if(e.path==="**")return e2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},py):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ub)(t,n,e);if(!i)return k({},py);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function e2(n){return{matched:!0,parameters:n.length>0?$b(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Lb(n,e,t,r){return t.length>0&&r2(n,t,r)?{segmentGroup:new me(e,n2(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&i2(n,t,r)?{segmentGroup:new me(n.segments,t2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function t2(n,e,t,r){let i={};for(let o of t)if(Ld(n,e,o)&&!r[an(o)]){let s=new me([],{});i[an(o)]=s}return k(k({},r),i)}function n2(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&an(r)!==ee){let i=new me([],{});t[an(r)]=i}return t}function r2(n,e,t){return t.some(r=>Ld(n,e,r)&&an(r)!==ee)}function i2(n,e,t){return t.some(r=>Ld(n,e,r))}function Ld(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function o2(n,e,t){return e.length===0&&!n.children[t]}var gy=class{};function s2(n,e,t,r,i,o,s="emptyOnly"){return new my(n,e,t,r,i,s,o).recognize()}var a2=31,my=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new fy(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=Lb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new Ot(r,t),o=new Za("",i),s=Zb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,t).pipe(X(r=>({children:r,rootSnapshot:t})),zn(r=>{if(r instanceof ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof Ot?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return De(o).pipe(_r(s=>{let a=r.children[s],u=DV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Yu((s,a)=>(s.push(...a),s)),Ir(null),Op(),Oe(s=>{if(s===null)return zo(r);let a=hS(s);return c2(a),q(a)}))}processSegment(e,t,r,i,o,s,a){return De(t).pipe(_r(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(zn(l=>{if(l instanceof Xa)return q(null);throw l}))),qn(u=>!!u),zn(u=>{if(uS(u))return o2(r,i,o)?q(new gy):zo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return an(r)!==s&&(s===ee||!Ld(i,o,r))?zo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):zo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=dS(t,i,o);if(!u)return zo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>a2&&(this.allowRedirects=!1));let y=new bi(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(i),an(i),i.component??i._loadedComponent??null,i,jb(i)),b=xd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Oe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=XV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Mt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new bi(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(r),an(r),r.component??r._loadedComponent??null,r,jb(r)),M=xd(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:L}=Lb(t,m,y,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(X(K=>new Ot(b,K)));if(l.length===0&&L.length===0)return q(new Ot(b,[]));let W=an(r)===o;return this.processSegment(h,l,R,L,W?ee:o,!0,b).pipe(X(K=>new Ot(b,K instanceof Ot?[K]:[])))}))):zo(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):QV(e,t,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,t).pipe(Je(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):JV(t))):q({routes:[],injector:e})}};function c2(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function u2(n){let e=n.value.routeConfig;return e&&e.path===""}function hS(n){let e=[],t=new Set;for(let r of n){if(!u2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=hS(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!t.has(r))}function Vb(n){return n.data||{}}function jb(n){return n.resolve||{}}function l2(n,e,t,r,i,o){return Oe(s=>s2(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>re(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function d2(n,e){return Oe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of fS(u))s.add(l);let a=0;return De(s).pipe(_r(u=>o.has(u)?h2(u,r,n,e):(u.data=xd(u,u.parent,n).resolve,q(void 0))),Je(()=>a++),_o(1),Oe(u=>a===s.size?q(t):_t))})}function fS(n){let e=n.children.map(t=>fS(t)).flat();return[n,...e]}function h2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!iS(i)&&(o[tc]=i.title),f2(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=xd(n,n.parent,t).resolve,null)))}function f2(n,e,t,r){let i=iy(n);if(i.length===0)return q({});let o={};return De(i).pipe(Oe(s=>p2(n[s],e,t,r).pipe(qn(),Je(a=>{if(a instanceof Jo)throw kd(new Nr,a);o[s]=a}))),_o(1),X(()=>o),zn(s=>uS(s)?_t:mo(s)))}function p2(n,e,t,r){let i=nc(e)??r,o=es(n,i),s=o.resolve?o.resolve(e,t):at(i,()=>o(e,t));return kr(s)}function ny(n){return Mt(e=>{let t=n(e);return t?De(t).pipe(X(()=>e)):q(e)})}var Ey=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[tc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(pS),providedIn:"root"})}return n})(),pS=(()=>{class n extends Ey{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(Pb))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mi=new V("",{providedIn:"root",factory:()=>({})}),ts=new V(""),Vd=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(cb);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=kr(t.loadComponent()).pipe(X(mS),Je(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),da(()=>{this.componentLoaders.delete(t)})),i=new ho(r,()=>new Fe).pipe(lo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=gS(r,this.compiler,t,this.onLoadEndListener).pipe(da(()=>{this.childrenLoaders.delete(r)})),s=new ho(o,()=>new Fe).pipe(lo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gS(n,e,t,r){return kr(n.loadChildren()).pipe(X(mS),Oe(i=>i instanceof vm||Array.isArray(i)?q(i):De(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ts,[],{optional:!0,self:!0}).flat()),{routes:s.map(Iy),injector:o}}))}function g2(n){return n&&typeof n=="object"&&"default"in n}function mS(n){return g2(n)?n.default:n}var jd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(m2),providedIn:"root"})}return n})(),m2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wy=new V(""),Dy=new V("");function yS(n,e,t){let r=n.get(Dy),i=n.get(qe);return n.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),y2(n))),{onViewTransitionCreated:u}=r;return u&&at(n,()=>u({transition:a,from:e,to:t})),s})}function y2(n){return new Promise(e=>{rm({read:()=>setTimeout(e)},{injector:n})})}var Ty=new V(""),Ud=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortSubject=new Fe;configLoader=P(Vd);environmentInjector=P(ot);destroyRef=P(vi);urlSerializer=P(Ai);rootContexts=P(Ri);location=P(Rr);inputBindingEnabled=P(ic,{optional:!0})!==null;titleStrategy=P(Ey);options=P(Mi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(jd);createViewTransition=P(wy,{optional:!0});navigationErrorHandler=P(Ty,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Cd(i)),r=i=>this.events.next(new bd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(re(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Ze(null),this.transitions.pipe(Et(r=>r!==null),Mt(r=>{let i=!1,o=!1;return q(r).pipe(Mt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),_t;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?re(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new An(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ko.IgnoredSameUrlNavigation)),s.resolve(!1),_t}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q(s).pipe(Mt(l=>(this.events.next(new xr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?_t:Promise.resolve(l))),l2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Je(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=re(k({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Ka(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,b=new xr(l,this.urlSerializer.serialize(h),p,m);this.events.next(b);let M=nS(this.rootComponentType).snapshot;return this.currentTransition=r=re(k({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:re(k({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,q(r)}else{let l="";return this.events.next(new An(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ko.IgnoredByUrlHandlingStrategy)),s.resolve(!1),_t}}),Je(s=>{let a=new Ed(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=r=re(k({},s),{guards:MV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),BV(this.environmentInjector,s=>this.events.next(s)),Je(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw kd(this.urlSerializer,s.guardsResult);let a=new wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Et(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",St.GuardRejected),!1)),ny(s=>{if(s.guards.canActivateChecks.length!==0)return q(s).pipe(Je(a=>{let u=new Dd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mt(a=>{let u=!1;return q(a).pipe(d2(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",St.NoDataFromResolver)}}))}),Je(a=>{let u=new Td(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),ny(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Je(h=>{u.component=h}),X(()=>{})));for(let h of u.children)l.push(...a(h));return l};return la(a(s.targetSnapshot.root)).pipe(Ir(null),Zt(1))}),ny(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?De(u).pipe(X(()=>r)):q(r)}),X(s=>{let a=CV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=re(k({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Je(()=>{this.events.next(new Qa)}),RV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Zt(1),Je({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Fp(this.transitionAbortSubject.pipe(Je(s=>{throw s}))),da(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),zn(s=>{if(this.destroyed)return r.resolve(!1),_t;if(o=!0,cS(s))this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),AV(s)?this.events.next(new Zo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Qo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=at(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Jo){let{message:l,cancellationCode:h}=kd(this.urlSerializer,u);this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Zo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return _t}))}))}cancelNavigationTransition(t,r,i){let o=new bn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v2(n){return n!==vd}var vS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(_2),providedIn:"root"})}return n})(),Fd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_2=(()=>{class n extends Fd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Aa(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_S=(()=>{class n{urlSerializer=P(Ai);options=P(Mi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Rr);urlHandlingStrategy=P(jd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Sn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=nS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(I2),providedIn:"root"})}return n})(),I2=(()=>{class n extends _S{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof xr?this.updateStateMemento():t instanceof An?this.commitTransition(r):t instanceof Ka?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Qa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bn&&(t.code===St.GuardRejected||t.code===St.NoDataFromResolver)?this.restoreHistory(r):t instanceof Qo?this.restoreHistory(r,!0):t instanceof Wt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Aa(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bd(n,e){n.events.pipe(Et(t=>t instanceof Wt||t instanceof bn||t instanceof Qo||t instanceof An),X(t=>t instanceof Wt||t instanceof An?0:(t instanceof bn?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?2:1),Et(t=>t!==2),Zt(1)).subscribe(()=>{e()})}var E2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(JC);stateManager=P(_S);options=P(Mi,{optional:!0})||{};pendingTasks=P(_i);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Ud);urlSerializer=P(Ai);location=P(Rr);urlHandlingStrategy=P(jd);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(vS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(ts,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(ic,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wt)this.navigated=!0;else if(r instanceof Zo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||v2(i.source)},s);this.scheduleNavigation(a,vd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}T2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Iy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=Jb(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Xb(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Pr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,vd,null,r)}navigate(t,r={skipLocationChange:!1}){return D2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},E2):r===!1?i=k({},w2):i=r,Pr(t))return xb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return xb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Bd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}function T2(n){return!(n instanceof Qa)&&!(n instanceof Zo)}var $d=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:fC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(oe(cn),oe(Yn),Yg("tabindex"),oe(Ei),oe(Cr),oe(sn))};static \u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Gt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Xl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ti],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ti],replaceUrl:[2,"replaceUrl","replaceUrl",Ti],routerLink:"routerLink"},features:[yi]})}return n})();var sc=class{};var IS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Et(t=>t instanceof Wt),_r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Pa(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return De(i).pipe(yo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let o=i.pipe(Oe(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return De([o,s]).pipe(yo())}else return o})}static \u0275fac=function(r){return new(r||n)($(cn),$(ot),$(sc),$(Vd))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ES=new V(""),C2=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof An&&t.code===Ko.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){$C()};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function b2(n){return n.routerState.root}function ac(n,e){return{\u0275kind:n,\u0275providers:e}}function S2(){let n=P(xe);return e=>{let t=n.get(Dr);if(e!==t.components[0])return;let r=n.get(cn),i=n.get(wS);n.get(by)===1&&r.initialNavigation(),n.get(CS,null,te.Optional)?.setUpPreloading(),n.get(ES,null,te.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wS=new V("",{factory:()=>new Fe}),by=new V("",{providedIn:"root",factory:()=>1});function DS(){let n=[{provide:by,useValue:0},wm(()=>{let e=P(xe);return e.get(xm,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(cn),o=e.get(wS);Bd(i,()=>{r(!0)}),e.get(Ud).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))})];return ac(2,n)}function TS(){let n=[wm(()=>{P(cn).setUpLocationChangeListener()}),{provide:by,useValue:2}];return ac(3,n)}var CS=new V("");function bS(n){return ac(0,[{provide:CS,useExisting:IS},{provide:sc,useExisting:n}])}function SS(){return ac(8,[vy,{provide:ic,useExisting:vy}])}function AS(n){Na("NgRouterViewTransitions");let e=[{provide:wy,useValue:yS},{provide:Dy,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return ac(9,e)}var RS=[Rr,{provide:Ai,useClass:Nr},cn,Ri,{provide:Yn,useFactory:b2,deps:[cn]},Vd,[]],Hd=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[RS,[],{provide:ts,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ty,useValue:r.errorHandler}:[],{provide:Mi,useValue:r||{}},r?.useHash?R2():M2(),A2(),r?.preloadingStrategy?bS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?N2(r):[],r?.bindToComponentInputs?SS().\u0275providers:[],r?.enableViewTransitions?AS().\u0275providers:[],P2()]}}static forChild(t){return{ngModule:n,providers:[{provide:ts,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ct({type:n});static \u0275inj=st({})}return n})();function A2(){return{provide:ES,useFactory:()=>{let n=P(Db),e=P(he),t=P(Mi),r=P(Ud),i=P(Ai);return t.scrollOffset&&n.setOffset(t.scrollOffset),new C2(i,r,n,e,t)}}}function R2(){return{provide:sn,useClass:Fm}}function M2(){return{provide:sn,useClass:rd}}function N2(n){return[n.initialNavigation==="disabled"?TS().\u0275providers:[],n.initialNavigation==="enabledBlocking"?DS().\u0275providers:[]]}var Cy=new V("");function P2(){return[{provide:Cy,useFactory:S2},{provide:Dm,multi:!0,useExisting:Cy}]}var NS=()=>{};var kS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},x2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):x2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ay;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ay=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},k2=function(n){let e=kS(n);return zd.encodeByteArray(e,!0)},uc=function(n){return k2(n).replace(/\./g,"")},qd=function(n){try{return zd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function My(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var O2=()=>My().__FIREBASE_DEFAULTS__,F2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},L2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&qd(n[1]);return e&&JSON.parse(e)},Gd=()=>{try{return NS()||O2()||F2()||L2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ny=n=>{var e,t;return(t=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},OS=n=>{let e=Ny(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Py=()=>{var n;return(n=Gd())===null||n===void 0?void 0:n.config},xy=n=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${n}`]};var Ni=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Or(n){return n.endsWith(".cloudworkstations.dev")}function Wd(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function FS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uc(JSON.stringify(t)),uc(JSON.stringify(s)),""].join(".")}var cc={};function V2(){let n={prod:[],emulator:[]};for(let e of Object.keys(cc))cc[e]?n.emulator.push(e):n.prod.push(e);return n}function j2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var PS=!1;function Kd(n,e){if(typeof window>"u"||typeof document>"u"||!Or(window.location.host)||cc[n]===e||cc[n]||PS)return;cc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=V2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{PS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=j2(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),L=t("preprendIcon"),W=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(R,M);let _e=l();u(W,L),K.append(W,b,R,_e),document.body.appendChild(K)}o?(b.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function U2(){var n;let e=(n=Gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){let n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $S(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lc(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var B2="FirebaseError",Lt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=B2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}},un=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lt(i,a,r)}};function $2(n,e){return n.replace(H2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var H2=/\{\$([^}]+)}/g;function zS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(xS(o)&&xS(s)){if(!Rn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function xS(n){return n!==null&&typeof n=="object"}function dc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ns(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function rs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qS(n,e){let t=new Ry(n,e);return t.subscribe.bind(t)}var Ry=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sy),i.error===void 0&&(i.error=Sy),i.complete===void 0&&(i.complete=Sy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function z2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sy(){}var KK=4*60*60*1e3;function We(n){return n&&n._delegate?n._delegate:n}var yt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pi="[DEFAULT]";var ky=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ni;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function q2(n){return n===Pi?void 0:n}function G2(n){return n.instantiationMode==="EAGER"}var Qd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ky(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var W2=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),K2={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Q2=ae.INFO,Y2={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Z2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Y2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mn=class{constructor(e){this.name=e,this._logLevel=Q2,this._logHandler=Z2,this._userLogHandler=null,W2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var J2=(n,e)=>e.some(t=>n instanceof t),GS,WS;function X2(){return GS||(GS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ej(){return WS||(WS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var KS=new WeakMap,Fy=new WeakMap,QS=new WeakMap,Oy=new WeakMap,Vy=new WeakMap;function tj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Nn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&KS.set(t,n)}).catch(()=>{}),Vy.set(e,n),e}function nj(n){if(Fy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Fy.set(n,e)}var Ly={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YS(n){Ly=n(Ly)}function rj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Yd(this),e,...t);return QS.set(r,e.sort?e.sort():[e]),Nn(r)}:ej().includes(n)?function(...e){return n.apply(Yd(this),e),Nn(KS.get(this))}:function(...e){return Nn(n.apply(Yd(this),e))}}function ij(n){return typeof n=="function"?rj(n):(n instanceof IDBTransaction&&nj(n),J2(n,X2())?new Proxy(n,Ly):n)}function Nn(n){if(n instanceof IDBRequest)return tj(n);if(Oy.has(n))return Oy.get(n);let e=ij(n);return e!==n&&(Oy.set(n,e),Vy.set(e,n)),e}var Yd=n=>Vy.get(n);function JS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var oj=["get","getKey","getAll","getAllKeys","count"],sj=["put","add","delete","clear"],jy=new Map;function ZS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jy.get(e))return jy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=sj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oj.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return jy.set(e,o),o}YS(n=>re(k({},n),{get:(e,t,r)=>ZS(e,t)||n.get(e,t,r),has:(e,t)=>!!ZS(e,t)||n.has(e,t)}));var By=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function aj(n){let e=n.getComponent();return e?.type==="VERSION"}var $y="@firebase/app",XS="0.13.1";var Zn=new Mn("@firebase/app"),cj="@firebase/app-compat",uj="@firebase/analytics-compat",lj="@firebase/analytics",dj="@firebase/app-check-compat",hj="@firebase/app-check",fj="@firebase/auth",pj="@firebase/auth-compat",gj="@firebase/database",mj="@firebase/data-connect",yj="@firebase/database-compat",vj="@firebase/functions",_j="@firebase/functions-compat",Ij="@firebase/installations",Ej="@firebase/installations-compat",wj="@firebase/messaging",Dj="@firebase/messaging-compat",Tj="@firebase/performance",Cj="@firebase/performance-compat",bj="@firebase/remote-config",Sj="@firebase/remote-config-compat",Aj="@firebase/storage",Rj="@firebase/storage-compat",Mj="@firebase/firestore",Nj="@firebase/ai",Pj="@firebase/firestore-compat",xj="firebase",kj="11.9.0";var Hy="[DEFAULT]",Oj={[$y]:"fire-core",[cj]:"fire-core-compat",[lj]:"fire-analytics",[uj]:"fire-analytics-compat",[hj]:"fire-app-check",[dj]:"fire-app-check-compat",[fj]:"fire-auth",[pj]:"fire-auth-compat",[gj]:"fire-rtdb",[mj]:"fire-data-connect",[yj]:"fire-rtdb-compat",[vj]:"fire-fn",[_j]:"fire-fn-compat",[Ij]:"fire-iid",[Ej]:"fire-iid-compat",[wj]:"fire-fcm",[Dj]:"fire-fcm-compat",[Tj]:"fire-perf",[Cj]:"fire-perf-compat",[bj]:"fire-rc",[Sj]:"fire-rc-compat",[Aj]:"fire-gcs",[Rj]:"fire-gcs-compat",[Mj]:"fire-fst",[Pj]:"fire-fst-compat",[Nj]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};var hc=new Map,Fj=new Map,zy=new Map;function e0(n,e){try{n.container.addComponent(e)}catch(t){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ln(n){let e=n.name;if(zy.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;zy.set(e,n);for(let t of hc.values())e0(t,n);for(let t of Fj.values())e0(t,n);return!0}function is(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vt(n){return n==null?!1:n.settings!==void 0}var Lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new un("app","Firebase",Lj);var qy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};var Lr=kj;function Ky(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(t||(t=Py()),!t)throw Fr.create("no-options");let o=hc.get(i);if(o){if(Rn(t,o.options)&&Rn(r,o.config))return o;throw Fr.create("duplicate-app",{appName:i})}let s=new Qd(i);for(let u of zy.values())s.addComponent(u);let a=new qy(t,r,s);return hc.set(i,a),a}function xi(n=Hy){let e=hc.get(n);if(!e&&n===Hy&&Py())return Ky();if(!e)throw Fr.create("no-app",{appName:n});return e}function Zd(){return Array.from(hc.values())}function Re(n,e,t){var r;let i=(r=Oj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}ln(new yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Vj="firebase-heartbeat-database",jj=1,fc="firebase-heartbeat-store",Uy=null;function i0(){return Uy||(Uy=JS(Vj,jj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),Uy}function Uj(n){return _(this,null,function*(){try{let t=(yield i0()).transaction(fc),r=yield t.objectStore(fc).get(o0(n));return yield t.done,r}catch(e){if(e instanceof Lt)Zn.warn(e.message);else{let t=Fr.create("idb-get",{originalErrorMessage:e?.message});Zn.warn(t.message)}}})}function t0(n,e){return _(this,null,function*(){try{let r=(yield i0()).transaction(fc,"readwrite");yield r.objectStore(fc).put(e,o0(n)),yield r.done}catch(t){if(t instanceof Lt)Zn.warn(t.message);else{let r=Fr.create("idb-set",{originalErrorMessage:t?.message});Zn.warn(r.message)}}})}function o0(n){return`${n.name}!${n.options.appId}`}var Bj=1024,$j=30,Gy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Wy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=n0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>$j){let s=zj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=n0(),{heartbeatsToSend:r,unsentEntries:i}=Hj(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zn.warn(t),""}})}};function n0(){return new Date().toISOString().substring(0,10)}function Hj(n,e=Bj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),r0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),r0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Wy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return lc()?HS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Uj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return t0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return t0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function r0(n){return uc(JSON.stringify({version:2,heartbeats:n})).length}function zj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function qj(n){ln(new yt("platform-logger",e=>new By(e),"PRIVATE")),ln(new yt("heartbeat",e=>new Gy(e),"PRIVATE")),Re($y,XS,n),Re($y,XS,"esm2017"),Re("fire-js","")}qj("");var Gj="firebase",Wj="11.9.1";Re(Gj,Wj,"app");function Qy(n){n===void 0&&(jg(Qy),n=P(xe));let e=n.get(zl);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Vr=new mi("ANGULARFIRE2_VERSION");function pc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ss=(n,e)=>{let t=e?[e]:Zd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},os=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(os||{}),s0=Mm()&&typeof Zone<"u"?os.WARN:os.SILENT;var Jd=class{zone;delegate;constructor(e,t=Np){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},jr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(he);this.outsideAngular=t.runOutsideAngular(()=>new Jd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Jd(typeof Zone>"u"?void 0:Zone.current,Mp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a0=!1;function Kj(n,e){!a0&&(s0>os.SILENT||Mm())&&(a0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),s0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Qj(n){let e=P(he,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ki(n){let e=P(he,{optional:!0});return e?e.run(()=>n()):n()}var Yj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),at(t,()=>ki(()=>n.apply(void 0,r)))),vt=(n,e,t)=>(t||=e?os.WARN:os.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(jr),s=P(zl),a=P(ot)}catch{return Kj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ki(()=>s.add())),i[l]=Yj(i[l],r,a));let u=Qj(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(vr(o.outsideAngular),yr(o.insideAngular),Qy(a)):u instanceof Promise?ki(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>at(a,()=>ki(()=>l(p))),p=>at(a,()=>ki(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ki(()=>u):u instanceof ne?u.pipe(vr(o.outsideAngular),yr(o.insideAngular)):ki(()=>u)});var Jn=class{constructor(e){return e}},Oi=class{constructor(){return Zd()}};function Zj(n){return n&&n.length===1?n[0]:new Jn(xi())}var Yy=new V("angularfire2._apps"),Jj={provide:Jn,useFactory:Zj,deps:[[new Nt,Yy]]},Xj={provide:Oi,deps:[[new Nt,Yy]]};function eU(n){return(e,t)=>{let r=t.get(br);Re("angularfire",Vr.full,"core"),Re("angularfire",Vr.full,"app"),Re("angular",ab.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Jn(i)}}function c0(n,...e){return Tr([Jj,Xj,{provide:Yy,useFactory:eU(n),multi:!0,deps:[he,xe,jr,...e]}])}var u0=vt(Ky,!0);var tU=new Map,nU={activated:!1,tokenObservers:[]},rU={initialized:!1,enabled:!1};function dn(n){return tU.get(n)||Object.assign({},nU)}function f0(){return rU}var iU="https://content-firebaseappcheck.googleapis.com/v1";var oU="exchangeDebugToken",l0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},eY=24*60*60*1e3;var Xy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Ni,this.pending.promise.catch(t=>{}),yield sU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ni,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function sU(n){return new Promise(e=>{setTimeout(e,n)})}var aU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ur=new un("appCheck","AppCheck",aU);function p0(n){if(!dn(n).activated)throw Ur.create("use-before-activation",{appName:n.name})}function g0(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Ur.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Ur.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Ur.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function m0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${iU}/projects/${t}/apps/${r}:${oU}?key=${i}`,body:{debug_token:e}}}var cU="firebase-app-check-database",uU=1,ev="firebase-app-check-store";var Xd=null;function lU(){return Xd||(Xd=new Promise((n,e)=>{try{let t=indexedDB.open(cU,uU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ur.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ev,{keyPath:"compositeKey"})}}}catch(t){e(Ur.create("storage-open",{originalErrorMessage:t?.message}))}}),Xd)}function dU(n,e){return hU(fU(n),e)}function hU(n,e){return _(this,null,function*(){let r=(yield lU()).transaction(ev,"readwrite"),o=r.objectStore(ev).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ur.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function fU(n){return`${n.options.appId}-${n.name}`}var gc=new Mn("@firebase/app-check");function Zy(n,e){return lc()?dU(n,e).catch(t=>{gc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function y0(){return f0().enabled}function v0(){return _(this,null,function*(){let n=f0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var pU={error:"UNKNOWN_ERROR"};function gU(n){return zd.encodeString(JSON.stringify(n),!1)}function tv(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;p0(r);let i=dn(r),o=i.token,s;if(o&&!mc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(mc(l)?o=l:yield Zy(r,void 0))}if(!e&&o&&mc(o))return{token:o.token};let a=!1;if(y0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=g0(m0(r,yield v0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Zy(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?gc.warn(l.message):t&&gc.error(l),Jy(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?gc.warn(l.message):t&&gc.error(l),s=l}let u;return o?s?mc(o)?u={token:o.token,internalError:s}:u=Jy(s):(u={token:o.token},i.token=o,yield Zy(r,o)):u=Jy(s),a&&_U(r,u),u})}function mU(n){return _(this,null,function*(){let e=n.app;p0(e);let{provider:t}=dn(e);if(y0()){let r=yield v0(),{token:i}=yield g0(m0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function yU(n,e,t,r){let{app:i}=n,o=dn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&mc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),d0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>d0(n))}function _0(n,e){let t=dn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function d0(n){let{app:e}=n,t=dn(e),r=t.tokenRefresher;r||(r=vU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function vU(n){let{app:e}=n;return new Xy(()=>_(null,null,function*(){let t=dn(e),r;if(t.token?r=yield tv(n,!0):r=yield tv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=dn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},l0.RETRIAL_MIN_WAIT,l0.RETRIAL_MAX_WAIT)}function _U(n,e){let t=dn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function mc(n){return n.expireTimeMillis-Date.now()>0}function Jy(n){return{token:gU(pU),error:n}}var nv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=dn(this.app);for(let t of e)_0(this.app,t.next);return Promise.resolve()}};function IU(n,e){return new nv(n,e)}function EU(n){return{getToken:e=>tv(n,e),getLimitedUseToken:()=>mU(n),addTokenListener:e=>yU(n,"INTERNAL",e),removeTokenListener:e=>_0(n.app,e)}}var wU="@firebase/app-check",DU="0.10.0";var TU="app-check",h0="app-check-internal";function CU(){ln(new yt(TU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return IU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(h0).initialize()})),ln(new yt(h0,n=>{let e=n.getProvider("app-check").getImmediate();return EU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Re(wU,DU)}CU();var bU="app-check";var as=class{constructor(){return ss(bU)}};var SU=["localhost","0.0.0.0","127.0.0.1"],fY=typeof window<"u"&&SU.includes(window.location.hostname);function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var L0=F0,V0=new un("auth","Firebase",F0());var oh=new Mn("@firebase/auth");function AU(n,...e){oh.logLevel<=ae.WARN&&oh.warn(`Auth (${Lr}): ${n}`,...e)}function th(n,...e){oh.logLevel<=ae.ERROR&&oh.error(`Auth (${Lr}): ${n}`,...e)}function xn(n,...e){throw bv(n,...e)}function Fi(n,...e){return bv(n,...e)}function j0(n,e,t){let r=Object.assign(Object.assign({},L0()),{[e]:t});return new un("auth","Firebase",r).create(e,{appName:n.name})}function Hr(n){return j0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return V0.create(n,...e)}function G(n,e,...t){if(!n)throw bv(e,...t)}function Xn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw th(e),new Error(e)}function zr(n,e){n||Xn(e)}function sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function RU(){return I0()==="http:"||I0()==="https:"}function I0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function MU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RU()||jS()||"connection"in navigator)?navigator.onLine:!0}function NU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Li=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=LS()||US()}get(){return MU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Sv(n,e){zr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var sh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var PU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var xU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kU=new Li(3e4,6e4);function ji(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function qr(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return U0(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=dc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return VS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Or(n.emulatorConfig.host)&&(y.credentials="include"),sh.fetch()(yield B0(n,n.config.apiHost,t,p),y)}))})}function U0(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},PU),e);try{let i=new av(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw eh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw eh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw eh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw j0(n,h,l);xn(n,h)}}catch(i){if(i instanceof Lt)throw i;xn(n,"network-request-failed",{message:String(i)})}})}function yh(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield qr(n,e,t,r,i);return"mfaPendingCredential"in l&&xn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function B0(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Sv(n.config,i):`${n.config.apiScheme}://${i}`;return xU.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function OU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var av=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),kU.get())})}};function eh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fi(n,e,r);return i.customData._tokenResponse=t,i}function E0(n){return n!==void 0&&n.enterprise!==void 0}var cv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function FU(n,e){return _(this,null,function*(){return qr(n,"GET","/v2/recaptchaConfig",ji(n,e))})}function LU(n,e){return _(this,null,function*(){return qr(n,"POST","/v1/accounts:delete",e)})}function ah(n,e){return _(this,null,function*(){return qr(n,"POST","/v1/accounts:lookup",e)})}function vc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Av(n,e=!1){return _(this,null,function*(){let t=We(n),r=yield t.getIdToken(e),i=Rv(r);G(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:vc(rv(i.auth_time)),issuedAtTime:vc(rv(i.iat)),expirationTime:vc(rv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function rv(n){return Number(n)*1e3}function Rv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{let i=qd(t);return i?JSON.parse(i):(th("Failed to decode base64 JWT payload"),null)}catch(i){return th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function w0(n){let e=Rv(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ic(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Lt&&VU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function VU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var uv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ec=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ch(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ic(n,ah(t,{idToken:r}));G(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$0(o.providerUserInfo):[],a=jU(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ec(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Mv(n){return _(this,null,function*(){let e=We(n);yield ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $0(n){return n.map(e=>{var{providerId:t}=e,r=Pp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function UU(n,e){return _(this,null,function*(){let t=yield U0(n,{},()=>_(null,null,function*(){let r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield B0(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Or(n.emulatorConfig.host)&&(u.credentials="include"),sh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function BU(n,e){return _(this,null,function*(){return qr(n,"POST","/v2/accounts:revokeToken",ji(n,e))})}var _c=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){G(e.length!==0,"internal-error");let t=w0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield UU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xn("not implemented")}};function Br(n,e){G(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $r=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ec(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Ic(this,this.stsTokenManager.getToken(this.auth,e));return G(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Av(this,e)}reload(){return Mv(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ch(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Vt(this.auth.app))return Promise.reject(Hr(this.auth));let e=yield this.getIdToken();return yield Ic(this,LU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:_e,isAnonymous:ht,providerData:ve,stsTokenManager:D}=t;G(K&&D,e,"internal-error");let v=_c.fromJSON(this.name,D);G(typeof K=="string",e,"internal-error"),Br(p,e.name),Br(m,e.name),G(typeof _e=="boolean",e,"internal-error"),G(typeof ht=="boolean",e,"internal-error"),Br(y,e.name),Br(b,e.name),Br(M,e.name),Br(R,e.name),Br(L,e.name),Br(W,e.name);let E=new n({uid:K,auth:e,email:m,emailVerified:_e,displayName:p,isAnonymous:ht,photoURL:b,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:L,lastLoginAt:W});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new _c;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ch(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?$0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new _c;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var D0=new Map;function er(n){zr(n instanceof Function,"Expected a class definition");let e=D0.get(n);return e?(zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D0.set(n,e),e)}var $U=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),lv=$U;function nh(n,e,t){return`firebase:${n}:${e}:${t}`}var uh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=nh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield ah(this.auth,{idToken:e}).catch(()=>{});return t?$r._fromGetAccountInfoResponse(this.auth,t,e):null}return $r._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(er(lv),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||er(lv),s=nh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield ah(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield $r._fromGetAccountInfoResponse(e,m,h)}else p=$r._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function T0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K0(e))return"Blackberry";if(Q0(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(W0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function H0(n=Ge()){return/firefox\//i.test(n)}function z0(n=Ge()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(n=Ge()){return/crios\//i.test(n)}function G0(n=Ge()){return/iemobile/i.test(n)}function W0(n=Ge()){return/android/i.test(n)}function K0(n=Ge()){return/blackberry/i.test(n)}function Q0(n=Ge()){return/webos/i.test(n)}function Nv(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HU(n=Ge()){var e;return Nv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zU(){return BS()&&document.documentMode===10}function Y0(n=Ge()){return Nv(n)||W0(n)||Q0(n)||K0(n)||/windows phone/i.test(n)||G0(n)}function Z0(n,e=[]){let t;switch(n){case"Browser":t=T0(Ge());break;case"Worker":t=`${T0(Ge())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lr}/${r}`}var dv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function qU(t){return _(this,arguments,function*(n,e={}){return qr(n,"GET","/v2/passwordPolicy",ji(n,e))})}var GU=6,hv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:GU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var fv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lh(this),this.idTokenSubscription=new lh(this),this.beforeStateQueue=new dv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=er(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield uh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield ah(this,{idToken:e}),r=yield $r._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Vt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ch(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NU()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Vt(this.app))return Promise.reject(Hr(this));let t=e?We(e):null;return t&&G(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Vt(this.app)?Promise.reject(Hr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Vt(this.app)?Promise.reject(Hr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(er(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield qU(this),t=new hv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new un("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield BU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&er(e)||this._popupRedirectResolver;G(t,this,"argument-error"),this.redirectPersistenceManager=yield uh.create(this,[er(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&AU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function cs(n){return We(n)}var lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qS(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WU(n){vh=n}function J0(n){return vh.loadJS(n)}function KU(){return vh.recaptchaEnterpriseScript}function QU(){return vh.gapiScript}function X0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var pv=class{constructor(){this.enterprise=new gv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},gv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var YU="recaptcha-enterprise",eA="NO_RECAPTCHA",mv=class{constructor(e){this.type=YU,this.auth=cs(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){FU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new cv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;E0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(eA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&E0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=KU();u.length!==0&&(u+=a),J0(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function yc(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new mv(n),s;if(i)s=eA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function C0(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield yc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield yc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield yc(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield yc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield yc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Pv(n,e){let t=is(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Rn(o,e??{}))return i;xn(i,"already-initialized")}return t.initialize({options:e})}function ZU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(er);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function xv(n,e,t){let r=cs(n);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=tA(e),{host:s,port:a}=JU(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Rn(l,r.config.emulator)&&Rn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Or(s)?(Wd(`${o}//${s}${u}`),Kd("Auth",!0)):i||XU()}function tA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JU(n){let e=tA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:b0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:b0(s)}}}function b0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function XU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var wc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,t){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}};function eB(n,e){return _(this,null,function*(){return qr(n,"POST","/v1/accounts:signUp",e)})}function tB(n,e){return _(this,null,function*(){return yh(n,"POST","/v1/accounts:signInWithPassword",ji(n,e))})}function nB(n,e){return _(this,null,function*(){return yh(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))})}function rB(n,e){return _(this,null,function*(){return yh(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))})}var Dc=class n extends wc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,t,"signInWithPassword",tB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nB(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,r,"signUpPassword",eB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rB(e,{idToken:t,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function iv(n,e){return _(this,null,function*(){return yh(n,"POST","/v1/accounts:signInWithIdp",ji(n,e))})}function iB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oB(n){let e=ns(rs(n)).link,t=e?ns(rs(e)).deep_link_id:null,r=ns(rs(n)).deep_link_id;return(r?ns(rs(r)).link:null)||r||t||e||n}var dh=class n{constructor(e){var t,r,i,o,s,a;let u=ns(rs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=iB((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=oB(e);try{return new n(t)}catch{return null}}};var nA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Dc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=dh.parseLink(r);return G(i,"argument-error"),Dc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),hh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var yv=class extends hh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield $r._fromIdTokenResponse(e,r,i),s=S0(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=S0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function S0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var vv=class n extends Lt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function rA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vv._fromErrorAndOperation(n,o,e,r):o})}function sB(n,e,t=!1){return _(this,null,function*(){let r=yield Ic(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tc._forOperation(n,"link",r)})}function aB(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Vt(r.app))return Promise.reject(Hr(r));let i="reauthenticate";try{let o=yield Ic(n,rA(r,i,e,n),t);G(o.idToken,r,"internal-error");let s=Rv(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(n.uid===a,r,"user-mismatch"),Tc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&xn(r,"user-mismatch"),o}})}function iA(n,e,t=!1){return _(this,null,function*(){if(Vt(n.app))return Promise.reject(Hr(n));let r="signIn",i=yield rA(n,r,e),o=yield Tc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function kv(n,e){return _(this,null,function*(){return iA(cs(n),e)})}function cB(n){return _(this,null,function*(){let e=cs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ov(n,e,t){return Vt(n.app)?Promise.reject(Hr(n)):kv(We(n),nA.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&cB(n),r}))}function bc(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function Fv(n,e,t){return We(n).beforeAuthStateChanged(e,t)}function Lv(n){return We(n).signOut()}var fh="__sak";var ph=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var uB=1e3,lB=10,dB=(()=>{class n extends ph{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);zU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield gr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield gr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield gr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),oA=dB;var hB=(()=>{class n extends ph{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Vv=hB;function fB(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var pB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield fB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function sA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var _v=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=sA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Pn(){return window}function gB(n){Pn().location.href=n}function aA(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}function mB(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vB(){return aA()?self:null}var cA="firebaseLocalStorageDb",_B=1,gh="firebaseLocalStorage",uA="fbase_key",Vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function _h(n,e){return n.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function IB(){let n=indexedDB.deleteDatabase(cA);return new Vi(n).toPromise()}function Iv(){let n=indexedDB.open(cA,_B);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(gh,{keyPath:uA})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),yield IB(),e(yield Iv()))}))})}function A0(n,e,t){return _(this,null,function*(){let r=_h(n,!0).put({[uA]:e,value:t});return new Vi(r).toPromise()})}function EB(n,e){return _(this,null,function*(){let t=_h(n,!1).get(e),r=yield new Vi(t).toPromise();return r===void 0?null:r.value})}function R0(n,e){let t=_h(n,!0).delete(e);return new Vi(t).toPromise()}var wB=800,DB=3,TB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Iv(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>DB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return aA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=pB._getInstance(vB()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield mB(),!this.activeServiceWorker)return;this.sender=new _v(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Iv();return yield A0(t,fh,"1"),yield R0(t,fh),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>A0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>EB(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>R0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=_h(o,!1).getAll();return new Vi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),wB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lA=TB;var EY=X0("rcb"),wY=new Li(3e4,6e4);function CB(n,e){return e?er(e):(G(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Cc=class extends wc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return iv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return iv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function bB(n){return iA(n.auth,new Cc(n),n.bypassAuthState)}function SB(n){let{auth:e,user:t}=n;return G(t,e,"internal-error"),aB(t,new Cc(n),n.bypassAuthState)}function AB(n){return _(this,null,function*(){let{auth:e,user:t}=n;return G(t,e,"internal-error"),sB(t,new Cc(n),n.bypassAuthState)})}var Ev=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bB;case"linkViaPopup":case"linkViaRedirect":return AB;case"reauthViaPopup":case"reauthViaRedirect":return SB;default:xn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var DY=new Li(2e3,1e4);var RB="pendingRedirect",rh=new Map,wv=class n extends Ev{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=rh.get(this.auth._key());if(!e){try{let r=(yield MB(this.resolver,this.auth))?yield gr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return gr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,gr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function MB(n,e){return _(this,null,function*(){let t=xB(e),r=PB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function NB(n,e){rh.set(n._key(),e)}function PB(n){return er(n._redirectPersistence)}function xB(n){return nh(RB,n.config.apiKey,n.name)}function kB(n,e,t=!1){return _(this,null,function*(){if(Vt(n.app))return Promise.reject(Hr(n));let r=cs(n),i=CB(r,e),s=yield new wv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var OB=10*60*1e3,Dv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OB&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}};function M0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(n);default:return!1}}function LB(t){return _(this,arguments,function*(n,e={}){return qr(n,"GET","/v1/projects",e)})}var VB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jB=/^https?/;function UB(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield LB(n);for(let t of e)try{if(BB(t))return}catch{}xn(n,"unauthorized-domain")})}function BB(n){let e=sv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!jB.test(t))return!1;if(VB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var $B=new Li(3e4,6e4);function N0(){let n=Pn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HB(n){return new Promise((e,t)=>{var r,i,o;function s(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),t(Fi(n,"network-request-failed"))},timeout:$B.get()})}if(!((i=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pn().gapi)===null||o===void 0)&&o.load)s();else{let a=X0("iframefcb");return Pn()[a]=()=>{gapi.load?s():t(Fi(n,"network-request-failed"))},J0(`${QU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw ih=null,e})}var ih=null;function zB(n){return ih=ih||HB(n),ih}var qB=new Li(5e3,15e3),GB="__/auth/iframe",WB="emulator/auth/iframe",KB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YB(n){let e=n.config;G(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Sv(e,WB):`https://${n.config.authDomain}/${GB}`,r={apiKey:e.apiKey,appName:n.name,v:Lr},i=QB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dc(r).slice(1)}`}function ZB(n){return _(this,null,function*(){let e=yield zB(n),t=Pn().gapi;return G(t,n,"internal-error"),e.open({where:document.body,url:YB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KB,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fi(n,"network-request-failed"),a=Pn().setTimeout(()=>{o(s)},qB.get());function u(){Pn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var JB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XB=500,e$=600,t$="_blank",n$="http://localhost",mh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function r$(n,e,t,r=XB,i=e$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},JB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ge().toLowerCase();t&&(a=q0(l)?t$:t),H0(l)&&(e=e||n$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(HU(l)&&a!=="_self")return i$(e||"",a),new mh(null);let p=window.open(e||"",a,h);G(p,n,"popup-blocked");try{p.focus()}catch{}return new mh(p)}function i$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var o$="__/auth/handler",s$="emulator/auth/handler",a$=encodeURIComponent("fac");function P0(n,e,t,r,i,o){return _(this,null,function*(){G(n.config.authDomain,n,"auth-domain-config-required"),G(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Lr,eventId:i};if(e instanceof hh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",zS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof yv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${a$}=${encodeURIComponent(u)}`:"";return`${c$(n)}?${dc(a).slice(1)}${l}`})}function c$({config:n}){return n.emulator?Sv(n,s$):`https://${n.authDomain}/${o$}`}var ov="webStorageSupport",Tv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vv,this._completeRedirectFn=kB,this._overrideRedirectResult=NB}_openPopup(e,t,r,i){return _(this,null,function*(){var o;zr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield P0(e,t,r,sv(),i);return r$(e,s,sA())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield P0(e,t,r,sv(),i);return gB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(zr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield ZB(e),r=new Dv(e);return t.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ov,{type:ov},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ov];s!==void 0&&t(!!s),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y0()||z0()||Nv()}},hA=Tv;var x0="@firebase/auth",k0="1.10.7";var Cv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function u$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l$(n){ln(new yt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(n)},l=new fv(r,i,o,u);return ZU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ln(new yt("auth-internal",e=>{let t=cs(e.getProvider("auth").getImmediate());return(r=>new Cv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(x0,k0,u$(n)),Re(x0,k0,"esm2017")}var d$=5*60,h$=xy("authIdTokenMaxAge")||d$,O0=null,f$=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>h$)return;let i=t?.token;O0!==i&&(O0=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function jv(n=xi()){let e=is(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Pv(n,{popupRedirectResolver:hA,persistence:[lA,oA,Vv]}),r=xy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=f$(o.toString());Fv(t,s,()=>s(t.currentUser)),bc(t,a=>s(a))}}let i=Ny("auth");return i&&xv(t,`http://${i}`),t}function p$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Fi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",p$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l$("Browser");function gA(n){return new ne(function(e){var t=bc(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var mA="auth",hn=class{constructor(e){return e}},Sc=class{constructor(){return ss(mA)}};var Uv=new V("angularfire2.auth-instances");function nH(n,e){let t=pc(mA,n,e);return t&&new hn(t)}function rH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hn(r)}}var iH={provide:Sc,deps:[[new Nt,Uv]]},oH={provide:hn,useFactory:nH,deps:[[new Nt,Uv],Jn]};function yA(n,...e){return Re("angularfire",Vr.full,"auth"),Tr([oH,iH,{provide:Uv,useFactory:rH(n),multi:!0,deps:[he,xe,jr,Oi,[new Nt,as],...e]}])}var vA=vt(gA,!0);var _A=vt(jv,!0);var IA=vt(Ov,!0,2);var EA=vt(Lv,!0,2);var wA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DA={};var tr,$v;(function(){var n;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,T,S){for(var I=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)I[jn-2]=arguments[jn];return v.prototype[T].apply(w,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)w[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],T=D.g[2];var S=D.g[3],I=v+(S^E&(T^S))+w[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(T^v&(E^T))+w[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(E^S&(v^E))+w[2]+606105819&4294967295,T=S+(I<<17&4294967295|I>>>15),I=E+(v^T&(S^v))+w[3]+3250441966&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(S^E&(T^S))+w[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(T^v&(E^T))+w[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(E^S&(v^E))+w[6]+2821735955&4294967295,T=S+(I<<17&4294967295|I>>>15),I=E+(v^T&(S^v))+w[7]+4249261313&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(S^E&(T^S))+w[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(T^v&(E^T))+w[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(E^S&(v^E))+w[10]+4294925233&4294967295,T=S+(I<<17&4294967295|I>>>15),I=E+(v^T&(S^v))+w[11]+2304563134&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(S^E&(T^S))+w[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(T^v&(E^T))+w[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=T+(E^S&(v^E))+w[14]+2792965006&4294967295,T=S+(I<<17&4294967295|I>>>15),I=E+(v^T&(S^v))+w[15]+1236535329&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(T^S&(E^T))+w[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^T&(v^E))+w[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(S^v))+w[11]+643717713&4294967295,T=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(T^S))+w[0]+3921069994&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^S&(E^T))+w[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^T&(v^E))+w[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(S^v))+w[15]+3634488961&4294967295,T=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(T^S))+w[4]+3889429448&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^S&(E^T))+w[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^T&(v^E))+w[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(S^v))+w[3]+4107603335&4294967295,T=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(T^S))+w[8]+1163531501&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^S&(E^T))+w[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^T&(v^E))+w[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(S^v))+w[7]+1735328473&4294967295,T=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(T^S))+w[12]+2368359562&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(E^T^S)+w[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^T)+w[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^E)+w[11]+1839030562&4294967295,T=S+(I<<16&4294967295|I>>>16),I=E+(T^S^v)+w[14]+4259657740&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^S)+w[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^T)+w[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^E)+w[7]+4139469664&4294967295,T=S+(I<<16&4294967295|I>>>16),I=E+(T^S^v)+w[10]+3200236656&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^S)+w[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^T)+w[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^E)+w[3]+3572445317&4294967295,T=S+(I<<16&4294967295|I>>>16),I=E+(T^S^v)+w[6]+76029189&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^S)+w[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^T)+w[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=T+(S^v^E)+w[15]+530742520&4294967295,T=S+(I<<16&4294967295|I>>>16),I=E+(T^S^v)+w[2]+3299628645&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(T^(E|~S))+w[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~T))+w[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~E))+w[14]+2878612391&4294967295,T=S+(I<<15&4294967295|I>>>17),I=E+(S^(T|~v))+w[5]+4237533241&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~S))+w[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~T))+w[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~E))+w[10]+4293915773&4294967295,T=S+(I<<15&4294967295|I>>>17),I=E+(S^(T|~v))+w[1]+2240044497&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~S))+w[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~T))+w[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~E))+w[6]+2734768916&4294967295,T=S+(I<<15&4294967295|I>>>17),I=E+(S^(T|~v))+w[13]+1309151649&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~S))+w[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~T))+w[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=T+(v^(S|~E))+w[2]+718787259&4294967295,T=S+(I<<15&4294967295|I>>>17),I=E+(S^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(w[T++]=D.charCodeAt(S++),T==this.blockSize){i(this,w),T=0;break}}else for(;S<v;)if(w[T++]=D[S++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,T=D.length-1;0<=T;T--){var S=D[T]|0;w&&S==v||(E[T]=S,w=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var S=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var T=_e(E,v).g;E=L(E,T.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=T,b(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=L(this,D),M(D)?-1:b(D)?0:1};function R(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,T=0;T<=v;T++){var S=w+(this.i(T)&65535)+(D.i(T)&65535),I=(S>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=I>>>16,S&=65535,I&=65535,E[T]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(D,v){return D.add(R(v))}n.j=function(D){if(b(this)||b(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var S=this.i(w)>>>16,I=this.i(w)&65535,jn=D.i(T)>>>16,Vs=D.i(T)&65535;E[2*w+2*T]+=I*Vs,W(E,2*w+2*T),E[2*w+2*T+1]+=S*Vs,W(E,2*w+2*T+1),E[2*w+2*T+1]+=I*jn,W(E,2*w+2*T+1),E[2*w+2*T+2]+=S*jn,W(E,2*w+2*T+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function W(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function K(D,v){this.g=D,this.h=v}function _e(D,v){if(b(v))throw Error("division by zero");if(b(D))return new K(p,p);if(M(D))return v=_e(R(D),v),new K(R(v.g),R(v.h));if(M(v))return v=_e(D,R(v)),new K(R(v.g),v.h);if(30<D.g.length){if(M(D)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=v;0>=w.l(D);)E=ht(E),w=ht(w);var T=ve(E,1),S=ve(w,1);for(w=ve(w,2),E=ve(E,2);!b(w);){var I=S.add(w);0>=I.l(D)&&(T=T.add(E),S=I),w=ve(w,1),E=ve(E,1)}return v=L(D,T.j(v)),new K(T,v)}for(T=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),I=S.j(v);M(I)||0<I.l(D);)E-=w,S=l(E),I=S.j(v);b(S)&&(S=m),T=T.add(S),D=L(D,I)}return new K(T,D)}n.A=function(D){return _e(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function ht(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function ve(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,T=[],S=0;S<w;S++)T[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$v=DA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,tr=DA.Integer=s}).apply(typeof wA<"u"?wA:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nr={};var Hv,sH,us,zv,Ac,Eh,qv,Gv,Wv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var O=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)O[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,O)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let O=0;O<A;O++)c[C+O]=g[O]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var ht=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ve(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Pf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class jn{constructor(){this.h=this.g=null}add(d,f){let g=Vs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Vs=new L(()=>new PN,c=>c.reset());class PN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let js,Us=!1,Pf=new jn,yE=()=>{let c=a.Promise.resolve(void 0);js=()=>{c.then(xN)}};var xN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Vs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Us=!1};function dr(){this.s=this.s,this.C=this.C}dr.prototype.s=!1,dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var kN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Bs(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ht){e:{try{_e(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ON[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Bs.aa.h.call(this)}}b(Bs,tt);var ON={2:"touch",3:"pen",4:"mouse"};Bs.prototype.h=function(){Bs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $s="closure_listenable_"+(1e6*Math.random()|0),FN=0;function LN(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++FN,this.da=this.fa=!1}function nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ru(c){this.src=c,this.g={},this.h=0}ru.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=kf(c,d,g,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new LN(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function xf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function kf(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Of="closure_lm_"+(1e6*Math.random()|0),Ff={};function vE(c,d,f,g,C){if(g&&g.once)return IE(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)vE(c,d[A],f,g,C);return null}return f=Uf(f),c&&c[$s]?c.K(d,f,l(g)?!!g.capture:!!g,C):_E(c,d,f,!1,g,C)}function _E(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Ie=Vf(c);if(Ie||(c[Of]=Ie=new ru(c)),f=Ie.add(d,f,g,O,A),f.proxy)return f;if(g=VN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)kN||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(wE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VN(){function c(f){return d.call(c.src,c.listener,f)}let d=jN;return c}function IE(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)IE(c,d[A],f,g,C);return null}return f=Uf(f),c&&c[$s]?c.L(d,f,l(g)?!!g.capture:!!g,C):_E(c,d,f,!0,g,C)}function EE(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)EE(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Uf(f),c&&c[$s]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=kf(A,f,g,C),-1<f&&(nu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Vf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=kf(d,f,g,C)),(f=-1<c?d[c]:null)&&Lf(f))}function Lf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[$s])xf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(wE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Vf(d))?(xf(f,c),f.h==0&&(f.src=null,d[Of]=null)):nu(c)}}}function wE(c){return c in Ff?Ff[c]:Ff[c]="on"+c}function jN(c,d){if(c.da)c=!0;else{d=new Bs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Lf(c),c=f.call(g,d)}return c}function Vf(c){return c=c[Of],c instanceof ru?c:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uf(c){return typeof c=="function"?c:(c[jf]||(c[jf]=function(d){return c.handleEvent(d)}),c[jf])}function nt(){dr.call(this),this.i=new ru(this),this.M=this,this.F=null}b(nt,dr),nt.prototype[$s]=!0,nt.prototype.removeEventListener=function(c,d,f,g){EE(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var C=d;d=new tt(g,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];C=iu(O,g,!0,d)&&C}if(O=d.g=c,C=iu(O,g,!0,d)&&C,C=iu(O,g,!1,d)&&C,f)for(A=0;A<f.length;A++)O=d.g=f[A],C=iu(O,g,!1,d)&&C}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)nu(f[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},nt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function iu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Ie=O.listener,Ye=O.ha||O.src;O.fa&&xf(c.i,O),C=Ie.call(Ye,g)!==!1&&C}}return C&&!g.defaultPrevented}function DE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function TE(c){c.g=DE(()=>{c.g=null,c.i&&(c.i=!1,TE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class UN extends dr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:TE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(c){dr.call(this),this.h=c,this.g={}}b(Hs,dr);var CE=[];function bE(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&Lf(d)},c),c.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),bE(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bf=a.JSON.stringify,BN=a.JSON.parse,$N=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $f(){}$f.prototype.h=null;function SE(c){return c.h||(c.h=c.i())}function AE(){}var zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hf(){tt.call(this,"d")}b(Hf,tt);function zf(){tt.call(this,"c")}b(zf,tt);var Zr={},RE=null;function ou(){return RE=RE||new nt}Zr.La="serverreachability";function ME(c){tt.call(this,Zr.La,c)}b(ME,tt);function qs(c){let d=ou();ft(d,new ME(d))}Zr.STAT_EVENT="statevent";function NE(c,d){tt.call(this,Zr.STAT_EVENT,c),this.stat=d}b(NE,tt);function pt(c){let d=ou();ft(d,new NE(d,c))}Zr.Ma="timingevent";function PE(c,d){tt.call(this,Zr.Ma,c),this.size=d}b(PE,tt);function Gs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function HN(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var O="",Ie=A.split("&"),Ye=0;Ye<Ie.length;Ye++){var ge=Ie[Ye].split("=");if(1<ge.length){var rt=ge[0];ge=ge[1];var it=rt.split("_");O=2<=it.length&&it[1]=="type"?O+(rt+"="+ge+"&"):O+(rt+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function zN(c,d,f,g,C,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+O})}function eo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+GN(c,f)+(g?" "+g:"")})}function qN(c,d){c.info(function(){return"TIMEOUT: "+d})}Ws.prototype.info=function(){};function GN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return Bf(f)}catch{return d}}var su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qf;function au(){}b(au,$f),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},qf=new au;function hr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kE}function kE(){this.i=null,this.g="",this.h=!1}var OE={},Gf={};function Wf(c,d,f){c.L=1,c.v=du(Un(d)),c.m=f,c.P=!0,FE(c,null)}function FE(c,d){c.F=Date.now(),cu(c),c.A=Un(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),YE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new kE,c.g=pw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new UN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(CE[0]=C.toString()),C=CE);for(var A=0;A<C.length;A++){var O=vE(f,C[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),qs(),HN(c.i,c.u,c.A,c.l,c.R,c.m)}hr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Bn(c)==3?d.j():this.Y(c)},hr.prototype.Y=function(c){try{if(c==this.g)e:{let it=Bn(this.g);var d=this.g.Ba();let ro=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||rw(this.g)))){this.J||it!=4||d==7||(d==8||0>=ro?qs(3):qs(2)),Kf(this);var f=this.g.Z();this.X=f;t:if(LE(this)){var g=rw(this.g);c="";var C=g.length,A=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Ks(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,zN(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ye=this.g;if((Ie=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ie)){var ge=Ie;break t}}ge=null}if(f=ge)eo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qf(this,f);else{this.o=!1,this.s=3,pt(12),Jr(this),Ks(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<O.length;)if(Qt=WN(this,O),Qt==Gf){it==4&&(this.s=4,pt(14),f=!1),eo(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==OE){this.s=4,pt(15),eo(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else eo(this.i,this.l,Qt,null),Qf(this,Qt);if(LE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||O.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)eo(this.i,this.l,O,"[Invalid Chunked Response]"),Jr(this),Ks(this);else if(0<O.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),tp(rt),rt.M=!0,pt(11))}}else eo(this.i,this.l,O,null),Qf(this,O);it==4&&Jr(this),this.o&&!this.J&&(it==4?lw(this.j,this):(this.o=!1,cu(this)))}else lP(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Jr(this),Ks(this)}}}catch{}finally{}};function LE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function WN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Gf:(f=Number(d.substring(f,g)),isNaN(f)?OE:(g+=1,g+f>d.length?Gf:(d=d.slice(g,g+f),c.C=g+f,d)))}hr.prototype.cancel=function(){this.J=!0,Jr(this)};function cu(c){c.S=Date.now()+c.I,VE(c,c.I)}function VE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gs(m(c.ba,c),d)}function Kf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}hr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(qN(this.i,this.A),this.L!=2&&(qs(),pt(17)),Jr(this),this.s=2,Ks(this)):VE(this,this.S-c)};function Ks(c){c.j.G==0||c.J||lw(c.j,c)}function Jr(c){Kf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,bE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Qf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Yf(f.h,c))){if(!c.K&&Yf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)mu(f),pu(f);else break e;ep(f),pt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Gs(m(f.Za,f),6e3));if(1>=BE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ei(f,11)}else if((c.K||f.g==c)&&mu(f),!W(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let rt=ge[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));let it=ge[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));let ro=ge[5];ro!=null&&typeof ro=="number"&&0<ro&&(g=1.5*ro,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Qt=c.g;if(Qt){let vu=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var A=g.h;A.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Zf(A,A.h),A.h=null))}if(g.D){let np=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;np&&(g.ya=np,be(g.I,g.D,np))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=fw(g,g.J?g.ia:null,g.W),O.K){$E(g.h,O);var Ie=O,Ye=g.L;Ye&&(Ie.I=Ye),Ie.B&&(Kf(Ie),cu(Ie)),g.g=O}else cw(g);0<f.i.length&&gu(f)}else ge[0]!="stop"&&ge[0]!="close"||ei(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ei(f,7):Xf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}qs(4)}catch{}}var KN=class{constructor(c,d){this.g=c,this.map=d}};function jE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function BE(c){return c.h?1:c.g?c.g.size:0}function Yf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Zf(c,d){c.g?c.g.add(d):c.h=d}function $E(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}jE.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function HE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function QN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function YN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function zE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=YN(c),g=QN(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xr){this.h=c.h,uu(this,c.j),this.o=c.o,this.g=c.g,lu(this,c.s),this.l=c.l;var d=c.i,f=new Zs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),GE(this,f),this.m=c.m}else c&&(d=String(c).match(qE))?(this.h=!1,uu(this,d[1]||"",!0),this.o=Qs(d[2]||""),this.g=Qs(d[3]||"",!0),lu(this,d[4]),this.l=Qs(d[5]||"",!0),GE(this,d[6]||"",!0),this.m=Qs(d[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}Xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ys(d,WE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ys(d,WE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ys(f,f.charAt(0)=="/"?eP:XN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ys(f,nP)),c.join("")};function Un(c){return new Xr(c)}function uu(c,d,f){c.j=f?Qs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function GE(c,d,f){d instanceof Zs?(c.i=d,rP(c.i,c.h)):(f||(d=Ys(d,tP)),c.i=new Zs(d,c.h))}function be(c,d,f){c.i.set(d,f)}function du(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,JN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function JN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var WE=/[#\/\?@]/g,XN=/[#\?:]/g,eP=/[#\?]/g,tP=/[#\?@]/g,nP=/#/g;function Zs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&ZN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Zs.prototype,n.add=function(c,d){fr(this),this.i=null,c=to(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function KE(c,d){fr(c),d=to(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function QE(c,d){return fr(c),d=to(c,d),c.g.has(d)}n.forEach=function(c,d){fr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},n.na=function(){fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},n.V=function(c){fr(this);let d=[];if(typeof c=="string")QE(this,c)&&(d=d.concat(this.g.get(to(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return fr(this),this.i=null,c=to(this,c),QE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function YE(c,d,f){KE(c,d),0<f.length&&(c.i=null,c.g.set(to(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var C=A;O[g]!==""&&(C+="="+encodeURIComponent(String(O[g]))),c.push(C)}}return this.i=c.join("&")};function to(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function rP(c,d){d&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(KE(this,g),YE(this,C,f))},c)),c.j=d}function iP(c,d){let f=new Ws;if(a.Image){let g=new Image;g.onload=y(pr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(pr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(pr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(pr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function oP(c,d){let f=new Ws,g=new AbortController,C=setTimeout(()=>{g.abort(),pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?pr(f,"TestPingServer: ok",!0,d):pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),pr(f,"TestPingServer: error",!1,d)})}function pr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function sP(){this.g=new $N}function aP(c,d,f){let g=f||"";try{zE(c,function(C,A){let O=C;l(C)&&(O=Bf(C)),d.push(g+A+"="+encodeURIComponent(O))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Js(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Js,$f),Js.prototype.g=function(){return new hu(this.l,this.j)},Js.prototype.i=function(c){return function(){return c}}({});function hu(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hu,nt),n=hu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ea(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Xs(this):ea(this),this.readyState==3&&ZE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Xs(this))},n.Qa=function(c){this.g&&(this.response=c,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ea(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function JE(c){let d="";return ve(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Jf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=JE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Ne(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ne,nt);var cP=/^https?$/i,uP=["POST","PUT"];n=Ne.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qf.g(),this.v=this.o?SE(this.o):SE(qf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){XE(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uP,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){XE(this,A)}};function XE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ew(c),fu(c)}function ew(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),fu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fu(this,!0)),Ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tw(this):this.bb())},n.bb=function(){tw(this)};function tw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)DE(c.Ea,0,c);else if(ft(c,"readystatechange"),Bn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var C=String(c.D).match(qE)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!cP.test(C?C.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var A=2<Bn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ew(c)}}finally{fu(c)}}}}function fu(c,d){if(c.g){nw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function nw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),BN(d)}};function rw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lP(c){let d={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=T(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function iw(c){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jE(c&&c.concurrentRequestLimit),this.Da=new sP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=fw(this,null,this.W),gu(this)};function Xf(c){if(ow(c),c.G==3){var d=c.U++,f=Un(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),na(c,f),d=new hr(c,c.j,d),d.L=2,d.v=du(Un(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=pw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cu(d)}hw(c)}function pu(c){c.g&&(tp(c),c.g.cancel(),c.g=null)}function ow(c){pu(c),c.u&&(a.clearTimeout(c.u),c.u=null),mu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function gu(c){if(!UE(c.h)&&!c.s){c.s=!0;var d=c.Ga;js||yE(),Us||(js(),Us=!0),Pf.add(d,c),c.B=0}}function dP(c,d){return BE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gs(m(c.Ga,c,d),dw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new hr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aw(this,C,d),f=Un(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),na(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(JE(A)))+"&"+d:this.m&&Jf(f,this.m,A)),Zf(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,Wf(C,f,null)):Wf(C,f,d),this.G=2}}else this.G==3&&(c?sw(this,c):this.i.length==0||UE(this.h)||sw(this))};function sw(c,d){var f;d?f=d.l:f=c.U++;let g=Un(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),na(c,g),c.m&&c.o&&Jf(g,c.m,c.o),f=new hr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=aw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zf(c.h,f),Wf(f,g,d)}function na(c,d){c.H&&ve(c.H,function(f,g){be(d,g,f)}),c.l&&zE({},function(f,g){be(d,g,f)})}function aw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=C[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Ie=!0;for(let Ye=0;Ye<f;Ye++){let ge=C[Ye].g,rt=C[Ye].map;if(ge-=A,0>ge)A=Math.max(0,C[Ye].g-100),Ie=!1;else try{aP(rt,O,"req"+ge+"_")}catch{g&&g(rt)}}if(Ie){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function cw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;js||yE(),Us||(js(),Us=!0),Pf.add(d,c),c.v=0}}function ep(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gs(m(c.Fa,c),dw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,uw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gs(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),pu(this),uw(this))};function tp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uw(c){c.g=new hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Un(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),na(c,d),c.m&&c.o&&Jf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=du(Un(d)),f.m=null,f.P=!0,FE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,pu(this),ep(this),pt(19))};function mu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lw(c,d){var f=null;if(c.g==d){mu(c),tp(c),c.g=null;var g=2}else if(Yf(c.h,d))f=d.D,$E(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=ou(),ft(g,new PE(g,f)),gu(c)}else cw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&dP(c,d)||g==2&&ep(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function dw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ei(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uu(g,"https"),du(g),C?iP(g.toString(),f):oP(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),hw(c),ow(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function hw(c){if(c.G=0,c.ka=[],c.l){let d=HE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function fw(c,d,f){var g=f instanceof Xr?Un(f):new Xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),lu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Xr(null);g&&uu(A,g),d&&(A.g=d),C&&lu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),na(c,g),g}function pw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Js({eb:f})):new Ne(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gw(){}n=gw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yu(){}yu.prototype.g=function(c,d){return new At(c,d)};function At(c,d){nt.call(this),this.g=new iw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new no(this)}b(At,nt),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Xf(this.g)},At.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Bf(c),c=f);d.i.push(new KN(d.Ya++,c)),d.G==3&&gu(d)},At.prototype.N=function(){this.g.l=null,delete this.j,Xf(this.g),delete this.g,At.aa.N.call(this)};function mw(c){Hf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(mw,Hf);function yw(){zf.call(this),this.status=1}b(yw,zf);function no(c){this.g=c}b(no,gw),no.prototype.ua=function(){ft(this.g,"a")},no.prototype.ta=function(c){ft(this.g,new mw(c))},no.prototype.sa=function(c){ft(this.g,new yw)},no.prototype.ra=function(){ft(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,Wv=nr.createWebChannelTransport=function(){return new yu},Gv=nr.getStatEventTarget=function(){return ou()},qv=nr.Event=Zr,Eh=nr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},su.NO_ERROR=0,su.TIMEOUT=8,su.HTTP_ERROR=6,Ac=nr.ErrorCode=su,xE.COMPLETE="complete",zv=nr.EventType=xE,AE.EventType=zs,zs.OPEN="a",zs.CLOSE="b",zs.ERROR="c",zs.MESSAGE="d",nt.prototype.listen=nt.prototype.K,us=nr.WebChannel=AE,sH=nr.FetchXmlHttpFactory=Js,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,Hv=nr.XhrIo=Ne}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});var TA="@firebase/firestore",CA="4.7.17";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var Ms="11.9.0";var zi=new Mn("@firebase/firestore");function ls(){return zi.logLevel}function F(n,...e){if(zi.logLevel<=ae.DEBUG){let t=e.map(VI);zi.debug(`Firestore (${Ms}): ${n}`,...t)}}function ir(n,...e){if(zi.logLevel<=ae.ERROR){let t=e.map(VI);zi.error(`Firestore (${Ms}): ${n}`,...t)}}function ys(n,...e){if(zi.logLevel<=ae.WARN){let t=e.map(VI);zi.warn(`Firestore (${Ms}): ${n}`,...t)}}function VI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vR(n,r,t)}function vR(n,e,t){let r=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ir(r),new Error(r)}function ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||vR(e,i,r)}function Q(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Lt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Ah=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ke.UNAUTHENTICATED))}shutdown(){}},Xv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},e_=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new Ah(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}},t_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},n_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new t_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},r_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Rh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function aH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function _R(){return new TextEncoder}var Mh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=aH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ie(n,e){return n<e?-1:n>e?1:0}function i_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=_R(),s=cH(o.encode(bA(n,t)),o.encode(bA(e,t)));return s!==0?s:ie(r,i)}}t+=r>65535?2:1}return ie(n.length,e.length)}function bA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ie(n[t],e[t]);return ie(n.length,e.length)}function vs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var SA=-62135596800,AA=1e6,et=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SA)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AA}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-SA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new et(0,0))}static max(){return new n(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var RA="__name__",Nh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):i_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}},Me=class n extends Nh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},uH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class n extends Nh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return uH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RA}static keyField(){return new n([RA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Me.fromString(e))}static fromName(e){return new n(Me.fromString(e).popFirst(5))}static empty(){return new n(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Me(e.slice()))}};var Oc=-1,o_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};o_.UNKNOWN_ID=-1;function lH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new et(t+1,0):new et(t,r));return new qi(i,H.empty(),e)}function dH(n){return new qi(n.readTime,n.key,Oc)}var qi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(J.min(),H.empty(),Oc)}static max(){return new n(J.max(),H.empty(),Oc)}};function hH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ie(n.largestBatchId,e.largestBatchId))}var fH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",s_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ns(n){return _(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==fH)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function pH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ps(n){return n.name==="IndexedDbTransactionError"}var jI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),UI=-1;function lf(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function gH(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var IR="";function mH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=MA(e)),e=yH(n.get(t),e);return MA(e)}function yH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case IR:t+="";break;default:t+=o}}return t}function MA(n){return n+IR+""}var vH="remoteDocuments",ER="owner";var wR="mutationQueues";var DR="mutations";var TR="documentMutations",_H="remoteDocumentsV14";var CR="remoteDocumentGlobal";var bR="targets";var SR="targetDocuments";var AR="targetGlobal",RR="collectionParents";var MR="clientMetadata";var NR="bundles";var PR="namedQueries";var IH="indexConfiguration";var EH="indexState";var wH="indexEntries";var xR="documentOverlays";var DH="globals";var TH=[wR,DR,TR,vH,bR,ER,AR,SR,MR,CR,RR,NR,PR],AZ=[...TH,xR],CH=[wR,DR,TR,_H,bR,ER,AR,SR,MR,CR,RR,NR,PR,xR],bH=CH,SH=[...bH,IH,EH,wH];var RZ=[...SH,DH];function NA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ke=class n{constructor(e,t){this.comparator=e,this.root=t||On.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},On=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new On(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class n{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ph(this.data.getIterator())}getIteratorFrom(e){return new Ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ph=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qe(jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var xh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var AH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(n){if(ye(!!n,39018),typeof n=="string"){let e=0,t=AH.exec(n);if(ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sr(n){return typeof n=="string"?dt.fromBase64String(n):dt.fromUint8Array(n)}var OR="server_timestamp",FR="__type__",LR="__previous_value__",VR="__local_write_time__";function BI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FR])===null||t===void 0?void 0:t.stringValue)===OR}function df(n){let e=n.mapValue.fields[LR];return BI(e)?df(e):e}function Lc(n){let e=or(n.mapValue.fields[VR].timestampValue);return new et(e.seconds,e.nanos)}var a_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},kh="(default)",Oh=class n{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $I="__type__",jR="__max__",wh={mapValue:{fields:{__type__:{stringValue:jR}}}},HI="__vector__",_s="value";function Wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BI(n)?4:BR(n)?9007199254740991:UR(n)?10:11:z(28295,{value:n})}function Vn(n,e){if(n===e)return!0;let t=Wr(n);if(t!==Wr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=or(i.timestampValue),a=or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return sr(i.bytesValue).isEqual(sr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?Fc(s)===Fc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return vs(n.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(NA(s)!==NA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Vn(s[u],a[u])))return!1;return!0}(n,e);default:return z(52216,{left:n})}}function Vc(n,e){return(n.values||[]).find(t=>Vn(t,e))!==void 0}function Is(n,e){if(n===e)return 0;let t=Wr(n),r=Wr(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return PA(n.timestampValue,e.timestampValue);case 4:return PA(Lc(n),Lc(e));case 5:return i_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=sr(o),u=sr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ie(a[l],u[l]);if(h!==0)return h}return ie(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ie(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ie(Ae(o.longitude),Ae(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[_s])===null||a===void 0?void 0:a.arrayValue,b=(u=m[_s])===null||u===void 0?void 0:u.arrayValue,M=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:xA(y,b)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===wh.mapValue&&s===wh.mapValue)return 0;if(o===wh.mapValue)return 1;if(s===wh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=i_(u[p],h[p]);if(m!==0)return m;let y=Is(a[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)}(n.mapValue,e.mapValue);default:throw z(23264,{Pe:t})}}function PA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ie(n,e);let t=or(n),r=or(e),i=ie(t.seconds,r.seconds);return i!==0?i:ie(t.nanos,r.nanos)}function xA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Is(t[i],r[i]);if(o)return o}return ie(t.length,r.length)}function Es(n){return c_(n)}function c_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=or(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return sr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=c_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${c_(t.fields[s])}`;return i+"}"}(n.mapValue):z(61005,{value:n})}function Ch(n){switch(Wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=df(n);return e?16+Ch(e):16;case 5:return 2*n.stringValue.length;case 6:return sr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ch(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ji(r.fields,(o,s)=>{i+=o.length+Ch(s)}),i}(n.mapValue);default:throw z(13486,{value:n})}}function kA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function u_(n){return!!n&&"integerValue"in n}function zI(n){return!!n&&"arrayValue"in n}function OA(n){return!!n&&"nullValue"in n}function FA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bh(n){return!!n&&"mapValue"in n}function UR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$I])===null||t===void 0?void 0:t.stringValue)===HI}function Mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}var NZ={mapValue:{fields:{[$I]:{stringValue:HI},[_s]:{arrayValue:{}}}}};var fn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Mc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Mc(this.value))}};function $R(n){let e=[];return Ji(n.fields,(t,r)=>{let i=new jt([t]);if(bh(r)){let o=$R(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new kn(e)}var pn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,J.min(),J.min(),J.min(),fn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,J.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,J.min(),J.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,J.min(),J.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ws=class{constructor(e,t){this.position=e,this.inclusive=t}};function LA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),t.key):r=Is(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vn(n.position[t],e.position[t]))return!1;return!0}var Gi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function RH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fh=class{},Be=class n extends Fh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new d_(e,t,r):t==="array-contains"?new p_(e,r):t==="in"?new g_(e,r):t==="not-in"?new m_(e,r):t==="array-contains-any"?new y_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new h_(e,r):new f_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Is(t,this.value)):t!==null&&Wr(this.value)===Wr(t)&&this.matchesComparison(Is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends Fh{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return HR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function HR(n){return n.op==="and"}function zR(n){return MH(n)&&HR(n)}function MH(n){for(let e of n.filters)if(e instanceof gn)return!1;return!0}function l_(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+Es(n.value);if(zR(n))return n.filters.map(e=>l_(e)).join(",");{let e=n.filters.map(t=>l_(t)).join(",");return`${n.op}(${e})`}}function qR(n,e){return n instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(n,e):n instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qR(s,i.filters[a]),!0):!1}(n,e):void z(19439)}function GR(n){return n instanceof Be?function(t){return`${t.field.canonicalString()} ${t.op} ${Es(t.value)}`}(n):n instanceof gn?function(t){return t.op.toString()+" {"+t.getFilters().map(GR).join(" ,")+"}"}(n):"Filter"}var d_=class extends Be{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},h_=class extends Be{constructor(e,t){super(e,"in",t),this.keys=WR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},f_=class extends Be{constructor(e,t){super(e,"not-in",t),this.keys=WR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function WR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var p_=class extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return zI(t)&&Vc(t.arrayValue,this.value)}},g_=class extends Be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vc(this.value.arrayValue,t)}},m_=class extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vc(this.value.arrayValue,t)}},y_=class extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!zI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}};var v_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function jA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new v_(n,e,t,r,i,o,s)}function qI(n){let e=Q(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>l_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Es(r)).join(",")),e.Ie=t}return e.Ie}function GI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VA(n.startAt,e.startAt)&&VA(n.endAt,e.endAt)}function __(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Kr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function NH(n,e,t,r,i,o,s,a){return new Kr(n,e,t,r,i,o,s,a)}function WI(n){return new Kr(n)}function UA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KR(n){return n.collectionGroup!==null}function Nc(n){let e=Q(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Gi(o,r))}),t.has(jt.keyField().canonicalString())||e.Ee.push(new Gi(jt.keyField(),r))}return e.Ee}function Fn(n){let e=Q(n);return e.de||(e.de=PH(e,Nc(n))),e.de}function PH(n,e){if(n.limitType==="F")return jA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Gi(i.field,o)});let t=n.endAt?new ws(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ws(n.startAt.position,n.startAt.inclusive):null;return jA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function I_(n,e){let t=n.filters.concat([e]);return new Kr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function E_(n,e,t){return new Kr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return GI(Fn(n),Fn(e))&&n.limitType===e.limitType}function QR(n){return`${qI(Fn(n))}|lt:${n.limitType}`}function ds(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>GR(i)).join(", ")}]`),lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Es(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Es(i)).join(",")),`Target(${r})`}(Fn(n))}; limitType=${n.limitType})`}function ff(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=LA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Nc(r),i)||r.endAt&&!function(s,a,u){let l=LA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Nc(r),i))}(n,e)}function xH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YR(n){return(e,t)=>{let r=!1;for(let i of Nc(n)){let o=kH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kH(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Is(u,l):z(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var ar=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return kR(this.inner)}size(){return this.innerSize}};var OH=new ke(H.comparator);function cr(){return OH}var ZR=new ke(H.comparator);function Rc(...n){let e=ZR;for(let t of n)e=e.insert(t.key,t);return e}function JR(n){let e=ZR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ui(){return Pc()}function XR(){return Pc()}function Pc(){return new ar(n=>n.toString(),(n,e)=>n.isEqual(e))}var FH=new ke(H.comparator),LH=new Qe(H.comparator);function le(...n){let e=LH;for(let t of n)e=e.add(t);return e}var VH=new Qe(ie);function jH(){return VH}function KI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function eM(n){return{integerValue:""+n}}function UH(n,e){return gH(e)?eM(e):KI(n,e)}var Ds=class{constructor(){this._=void 0}};function BH(n,e,t){return n instanceof Ts?function(i,o){let s={fields:{[FR]:{stringValue:OR},[VR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&BI(o)&&(o=df(o)),o&&(s.fields[LR]=o),{mapValue:s}}(t,e):n instanceof Wi?nM(n,e):n instanceof Ki?rM(n,e):function(i,o){let s=tM(i,o),a=BA(s)+BA(i.Re);return u_(s)&&u_(i.Re)?eM(a):KI(i.serializer,a)}(n,e)}function $H(n,e,t){return n instanceof Wi?nM(n,e):n instanceof Ki?rM(n,e):t}function tM(n,e){return n instanceof Cs?function(r){return u_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ts=class extends Ds{},Wi=class extends Ds{constructor(e){super(),this.elements=e}};function nM(n,e){let t=iM(e);for(let r of n.elements)t.some(i=>Vn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ki=class extends Ds{constructor(e){super(),this.elements=e}};function rM(n,e){let t=iM(e);for(let r of n.elements)t=t.filter(i=>!Vn(i,r));return{arrayValue:{values:t}}}var Cs=class extends Ds{constructor(e,t){super(),this.serializer=e,this.Re=t}};function BA(n){return Ae(n.integerValue||n.doubleValue)}function iM(n){return zI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Wi&&i instanceof Wi||r instanceof Ki&&i instanceof Ki?vs(r.elements,i.elements,Vn):r instanceof Cs&&i instanceof Cs?Vn(r.Re,i.Re):r instanceof Ts&&i instanceof Ts}(n.transform,e.transform)}var w_=class{constructor(e,t){this.version=e,this.transformResults=t}},Hi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var bs=class{};function oM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Lh(n.key,Hi.none()):new Qi(n.key,n.data,Hi.none());{let t=n.data,r=fn.empty(),i=new Qe(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ur(n.key,r,new kn(i.toArray()),Hi.none())}}function zH(n,e,t){n instanceof Qi?function(i,o,s){let a=i.value.clone(),u=HA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ur?function(i,o,s){if(!Sh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=HA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function xc(n,e,t,r){return n instanceof Qi?function(o,s,a,u){if(!Sh(o.precondition,s))return a;let l=o.value.clone(),h=zA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ur?function(o,s,a,u){if(!Sh(o.precondition,s))return a;let l=zA(o.fieldTransforms,u,s),h=s.data;return h.setAll(sM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Sh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function qH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=tM(r.transform,i||null);o!=null&&(t===null&&(t=fn.empty()),t.set(r.field,o))}return t||null}function $A(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vs(r,i,(o,s)=>HH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qi=class extends bs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends bs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function HA(n,e,t){let r=new Map;ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$H(s,a,t[i]))}return r}function zA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,BH(o,s,e))}return r}var Lh=class extends bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},D_=class extends bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var T_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=XR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=oM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(t,r)=>$A(t,r))&&vs(this.baseMutations,e.baseMutations,(t,r)=>$A(t,r))}},C_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return FH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var b_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var S_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var je,pe;function GH(n){switch(n){case N.OK:return z(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return z(15467,{code:n})}}function aM(n){if(n===void 0)return ir("GRPC error has no .code"),N.UNKNOWN;switch(n){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return z(39323,{code:n})}}(pe=je||(je={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var qA=null;var WH=new tr([4294967295,4294967295],0);function GA(n){let e=_R().encode(n),t=new $v;return t.update(e),new Uint8Array(t.digest())}function WA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new tr([t,r],0),new tr([i,o],0)]}var A_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bi(`Invalid padding: ${t}`);if(r<0)throw new Bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bi(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=tr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(tr.fromNumber(r)));return i.compare(WH)===1&&(i=new tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=GA(e),[r,i]=WA(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=GA(e),[r,i]=WA(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(J.min(),i,new ke(ie),cr(),le())}},jc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var gs=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},jh=class{constructor(e,t){this.targetId=e,this.Ce=t}},Uh=class{constructor(e,t,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Bh=class{constructor(){this.Fe=0,this.Me=KA(),this.xe=dt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),t=le(),r=le();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new jc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=KA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},R_=class{constructor(e){this.ze=e,this.je=new Map,this.He=cr(),this.Je=Dh(),this.Ye=Dh(),this.Ze=new ke(ie)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(__(o))if(r===0){let s=new H(o.path);this.tt(t,s,pn.newNoDocument(s,J.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}qA?.ht(function(h,p,m,y,b){var M,R,L,W,K,_e;let ht={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(ht.bloomFilter={applied:b===0,hashCount:(M=ve?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(L=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(_e=(K=ve?.bits)===null||K===void 0?void 0:K.padding)!==null&&_e!==void 0?_e:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),ht}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=sr(r).toUint8Array()}catch(u){if(u instanceof xh)return ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new A_(s,i,o)}catch(u){return ys(u instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&__(a.target)){let u=new H(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,pn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=le();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Vh(e,t,this.Ze,this.He,r);return this.He=cr(),this.Je=Dh(),this.Ye=Dh(),this.Ze=new ke(ie),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Bh,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Qe(ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Qe(ie),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Bh),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Dh(){return new ke(H.comparator)}function KA(){return new ke(H.comparator)}var KH={asc:"ASCENDING",desc:"DESCENDING"},QH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YH={and:"AND",or:"OR"},M_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function N_(n,e){return n.useProto3Json||lf(e)?e:{value:e}}function $h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZH(n,e){return $h(n,e.toTimestamp())}function Ln(n){return ye(!!n,49232),J.fromTimestamp(function(t){let r=or(t);return new et(r.seconds,r.nanos)}(n))}function QI(n,e){return P_(n,e).canonicalString()}function P_(n,e){let t=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uM(n){let e=Me.fromString(n);return ye(pM(e),10190,{key:e.toString()}),e}function x_(n,e){return QI(n.databaseId,e.path)}function Kv(n,e){let t=uM(e);if(t.get(1)!==n.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(dM(t))}function lM(n,e){return QI(n.databaseId,e)}function JH(n){let e=uM(n);return e.length===4?Me.emptyPath():dM(e)}function k_(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dM(n){return ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QA(n,e,t){return{name:x_(n,e),fields:t.value.mapValue.fields}}function XH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),dt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),dt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:aM(l.code);return new j(h,l.message||"")}(s);t=new Uh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Kv(n,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):J.min(),a=new fn({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Kv(n,r.document),o=r.readTime?Ln(r.readTime):J.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Kv(n,r.document),o=r.removedTargetIds||[];t=new gs([],o,i,null)}else{if(!("filter"in e))return z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new S_(i,o),a=r.targetId;t=new jh(a,s)}}return t}function e4(n,e){let t;if(e instanceof Qi)t={update:QA(n,e.key,e.value)};else if(e instanceof Lh)t={delete:x_(n,e.key)};else if(e instanceof ur)t={update:QA(n,e.key,e.data),updateMask:u4(e.fieldMask)};else{if(!(e instanceof D_))return z(16599,{ft:e.type});t={verify:x_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ki)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ZH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(n,e.precondition)),t}function t4(n,e){return n&&n.length>0?(ye(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Ln(i.updateTime):Ln(o);return s.isEqual(J.min())&&(s=Ln(o)),new w_(s,i.transformResults||[])}(t,e))):[]}function n4(n,e){return{documents:[lM(n,e.path)]}}function r4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=lM(n,i);let o=function(l){if(l.length!==0)return fM(gn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:hs(m.field),direction:s4(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=N_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function i4(n){let e=JH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=hM(p);return m instanceof gn&&zR(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(b){return new Gi(fs(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,lf(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ws(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ws(y,m)}(t.endAt)),NH(e,i,s,o,a,"F",u,l)}function o4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fs(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(t.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fs(t.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fs(t.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(n):n.fieldFilter!==void 0?function(t){return Be.create(fs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gn.create(t.compositeFilter.filters.map(r=>hM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(t.compositeFilter.op))}(n):z(30097,{filter:n})}function s4(n){return KH[n]}function a4(n){return QH[n]}function c4(n){return YH[n]}function hs(n){return{fieldPath:n.canonicalString()}}function fs(n){return jt.fromServerFormat(n.fieldPath)}function fM(n){return n instanceof Be?function(t){if(t.op==="=="){if(FA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NAN"}};if(OA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NAN"}};if(OA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(t.field),op:a4(t.op),value:t.value}}}(n):n instanceof gn?function(t){let r=t.getFilters().map(i=>fM(i));return r.length===1?r[0]:{compositeFilter:{op:c4(t.op),filters:r}}}(n):z(54877,{filter:n})}function u4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uc=class n{constructor(e,t,r,i,o=J.min(),s=J.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var O_=class{constructor(e){this.wt=e}};function l4(n){let e=i4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?E_(e,e.limit,"L"):e}var Hh=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Fc(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=or(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(sr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?BR(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):UR(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):z(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=_s,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ae(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),H.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Hh.Wt=new Hh;var F_=class{constructor(){this.Cn=new L_}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(qi.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},L_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(Me.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Me.comparator)).toArray()}};var PZ=new Uint8Array(0);var YA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gM=41943040,Kt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(gM,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);var Bc=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var ZA="LruGarbageCollector",d4=1048576;function JA([n,e],[t,r]){let i=ie(n,t);return i===0?ie(e,r):i}var V_=class{constructor(e){this.Er=e,this.buffer=new Qe(JA),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();JA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},j_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){F(ZA,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ps(t)?F(ZA,"Ignoring IndexedDB error during garbage collection: ",t):yield Ns(t)}yield this.mr(3e5)}))}},U_=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(jI.le);let r=new V_(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(YA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YA):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ls()<=ae.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function h4(n,e){return new U_(n,e)}var B_=class{constructor(){this.changes=new ar(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var H_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&xc(r.mutation,i,kn.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=Ui();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Rc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ui();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=cr(),s=Pc(),a=function(){return Pc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ur)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),xc(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new $_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Pc(),i=new ke((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||kn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=XR();h.forEach(m=>{if(!o.has(m)){let y=oM(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Ui()),a=Oc,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:JR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Rc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Kr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let a=Rc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&xc(h.mutation,l,kn.empty(),et.now()),ff(t,l)&&(a=a.insert(u,l))}),a})}};var z_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:l4(i.bundledQuery),readTime:Ln(i.readTime)}}(t)),x.resolve()}};var q_=class{constructor(){this.overlays=new ke(H.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ui();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Ui(),o=t.length+1,s=new H(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ui(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ui(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new b_(t,r));let o=this.Qr.get(t);o===void 0&&(o=le(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var G_=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var $c=class{constructor(){this.$r=new Qe(Ue.Ur),this.Kr=new Qe(Ue.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Ue(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ue(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new H(new Me([])),r=new Ue(t,e),i=new Ue(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new H(new Me([])),r=new Ue(t,e),i=new Ue(t,e+1),o=le();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ue(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return H.comparator(e.key,t.key)||ie(e.Zr,t.Zr)}static Wr(e,t){return ie(e.Zr,t.Zr)||H.comparator(e.key,t.key)}};var W_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Qe(Ue.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new T_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Ue(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?UI:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ue(t,0),i=new Ue(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(ie);return t.forEach(i=>{let o=new Ue(i,0),s=new Ue(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ue(new H(o),0),a=new Qe(ie);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new Ue(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Ue(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var K_=class{constructor(e){this.ii=e,this.docs=function(){return new ke(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr(),s=t.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||hH(dH(h),r)<=0||(i.has(h.key)||ff(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Q_(this)}getSize(e){return x.resolve(this.size)}},Q_=class extends B_{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var Y_=class{constructor(e){this.persistence=e,this.oi=new ar(t=>qI(t),GI),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new $c,this.targetCount=0,this.ui=Bc.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Bc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var zh=class{constructor(e,t){this.ci={},this.overlays={},this.li=new jI(0),this.hi=!1,this.hi=!0,this.Pi=new G_,this.referenceDelegate=e(this),this.Ti=new Y_(this),this.indexManager=new F_,this.remoteDocumentCache=function(i){return new K_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new O_(t),this.Ei=new z_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new W_(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new Z_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Z_=class extends s_{constructor(e){super(),this.currentSequenceNumber=e}},J_=class n{constructor(e){this.persistence=e,this.Vi=new $c,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw z(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=H.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,J.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},qh=class n{constructor(e,t){this.persistence=e,this.yi=new ar(r=>mH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h4(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var X_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var eI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $S()?8:pH(Ge())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new eI;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ls()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(ls()<=ae.DEBUG&&F("QueryEngine","Query:",ds(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ls()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(t))):x.resolve())}ws(e,t){if(UA(t))return x.resolve(null);let r=Fn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=E_(t,null,"F"),r=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,E_(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return UA(t)||i.isEqual(J.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(ls()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(t)),this.Fs(e,s,t,lH(i,Oc)).next(a=>a))})}vs(e,t){let r=new Qe(YR(e));return t.forEach((i,o)=>{ff(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ls()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ds(t)),this.ys.getDocumentsMatchingQuery(e,t,qi.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var YI="LocalStore",f4=3e8,nI=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new ke(ie),this.Os=new ar(o=>qI(o),GI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function p4(n,e,t,r){return new nI(n,e,t,r)}function mM(n,e){return _(this,null,function*(){let t=Q(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function g4(n,e){let t=Q(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);ye(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yM(n){let e=Q(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function m4(n,e){let t=Q(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(dt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,L){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=f4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=cr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(y4(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(J.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function y4(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=cr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(YI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function v4(n,e){let t=Q(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=UI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _4(n,e){let t=Q(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Uc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function rI(n,e,t){return _(this,null,function*(){let r=Q(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ps(s))throw s;F(YI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function XA(n,e,t){let r=Q(n),i=J.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Q(u),m=p.Os.get(h);return m!==void 0?x.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:J.min(),t?o:le())).next(a=>(I4(r,xH(e),a),{documents:a,$s:o})))}function I4(n,e,t){let r=n.Ns.get(e)||J.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Gh=class{constructor(){this.activeTargetIds=jH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var iI=class{constructor(){this.xo=new Gh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Gh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var oI=class{No(e){}shutdown(){}};var eR="ConnectivityMonitor",Wh=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){F(eR,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){F(eR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Th=null;function sI(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}var Qv="RestConnection",E4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},aI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=sI(),a=this.jo(e,t.toUriEncodedString());F(Qv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Or(l);return this.Jo(e,a,u,r,h).then(p=>(F(Qv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ys(Qv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=E4[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var cI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var lt="WebChannelConnection",uI=class extends aI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=sI();return new Promise((a,u)=>{let l=new Hv;l.setWithCredentials(!0),l.listenOnce(zv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ac.NO_ERROR:let p=l.getResponseJson();F(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ac.TIMEOUT:F(lt,`RPC '${e}' ${s} timed out`),u(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:let m=l.getStatus();if(F(lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=function(L){let W=L.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(W)>=0?W:N.UNKNOWN}(b.status);u(new j(M,b.message))}else u(new j(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(N.UNAVAILABLE,"Connection failed."));break;default:z(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{F(lt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(lt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=sI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wv(),a=Gv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,b=new cI({Zo:R=>{y?F(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),M=(R,L,W)=>{R.listen(L,K=>{try{W(K)}catch(_e){setTimeout(()=>{throw _e},0)}})};return M(p,us.EventType.OPEN,()=>{y||(F(lt,`RPC '${e}' stream ${i} transport opened.`),b.__())}),M(p,us.EventType.CLOSE,()=>{y||(y=!0,F(lt,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(p))}),M(p,us.EventType.ERROR,R=>{y||(y=!0,ys(lt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.u_(new j(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,us.EventType.MESSAGE,R=>{var L;if(!y){let W=R.data[0];ye(!!W,16349);let K=W,_e=K?.error||((L=K[0])===null||L===void 0?void 0:L.error);if(_e){F(lt,`RPC '${e}' stream ${i} received error:`,_e);let ht=_e.status,ve=function(E){let w=je[E];if(w!==void 0)return aM(w)}(ht),D=_e.message;ve===void 0&&(ve=N.INTERNAL,D="Unknown error status: "+ht+" with message "+_e.message),y=!0,b.u_(new j(ve,D)),p.close()}else F(lt,`RPC '${e}' stream ${i} received:`,W),b.c_(W)}}),M(a,qv.STAT_EVENT,R=>{R.stat===Eh.PROXY?F(lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Eh.NOPROXY&&F(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function Yv(){return typeof document<"u"?document:null}function pf(n){return new M_(n,!0)}var Kh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var tR="PersistentStream",Qh=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Kh(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(ir(t.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return F(tR,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(F(tR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lI=class extends Qh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=XH(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Ln(s.readTime):J.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=k_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=__(u)?{documents:n4(o,u)}:{query:r4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cM(o,s.resumeToken);let l=N_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=$h(o,s.snapshotVersion.toTimestamp());let l=N_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=o4(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=k_(this.serializer),t.removeTarget=e,this.Q_(t)}},dI=class extends Qh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=t4(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=k_(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>e4(this.serializer,r))};this.Q_(t)}};var hI=class{},fI=class extends hI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,P_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,P_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},pI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ir(t),this.ua=!1):F("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Yi="RemoteStore",gI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Xi(this)&&(F(Yi,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Q(u);l.da.add(4),yield Kc(l),l.Va.set("Unknown"),l.da.delete(4),yield gf(l)})}(this))}))}),this.Va=new pI(r,i)}};function gf(n){return _(this,null,function*(){if(Xi(n))for(let e of n.Aa)yield e(!0)})}function Kc(n){return _(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function vM(n,e){let t=Q(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),eE(t)?XI(t):xs(t).N_()&&JI(t,e))}function ZI(n,e){let t=Q(n),r=xs(t);t.Ea.delete(e),r.N_()&&_M(t,e),t.Ea.size===0&&(r.N_()?r.k_():Xi(t)&&t.Va.set("Unknown"))}function JI(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xs(n).Z_(e)}function _M(n,e){n.ma.Ke(e),xs(n).X_(e)}function XI(n){n.ma=new R_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xs(n).start(),n.Va.ca()}function eE(n){return Xi(n)&&!xs(n).O_()&&n.Ea.size>0}function Xi(n){return Q(n).da.size===0}function IM(n){n.ma=void 0}function w4(n){return _(this,null,function*(){n.Va.set("Online")})}function D4(n){return _(this,null,function*(){n.Ea.forEach((e,t)=>{JI(n,e)})})}function T4(n,e){return _(this,null,function*(){IM(n),eE(n)?(n.Va.Pa(e),XI(n)):n.Va.set("Unknown")})}function C4(n,e,t){return _(this,null,function*(){if(n.Va.set("Online"),e instanceof Uh&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){F(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yh(n,r)}else if(e instanceof gs?n.ma.Xe(e):e instanceof jh?n.ma.ot(e):n.ma.nt(e),!t.isEqual(J.min()))try{let r=yield yM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),_M(o,u);let p=new Uc(h.target,u,l,h.sequenceNumber);JI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){F(Yi,"Failed to raise snapshot:",r),yield Yh(n,r)}})}function Yh(n,e,t){return _(this,null,function*(){if(!Ps(e))throw e;n.da.add(1),yield Kc(n),n.Va.set("Offline"),t||(t=()=>yM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){F(Yi,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield gf(n)}))})}function EM(n,e){return e().catch(t=>Yh(n,t,e))}function mf(n){return _(this,null,function*(){let e=Q(n),t=Qr(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:UI;for(;b4(e);)try{let i=yield v4(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,S4(e,i)}catch(i){yield Yh(e,i)}wM(e)&&DM(e)})}function b4(n){return Xi(n)&&n.Ia.length<10}function S4(n,e){n.Ia.push(e);let t=Qr(n);t.N_()&&t.ea&&t.ta(e.mutations)}function wM(n){return Xi(n)&&!Qr(n).O_()&&n.Ia.length>0}function DM(n){Qr(n).start()}function A4(n){return _(this,null,function*(){Qr(n).ia()})}function R4(n){return _(this,null,function*(){let e=Qr(n);for(let t of n.Ia)e.ta(t.mutations)})}function M4(n,e,t){return _(this,null,function*(){let r=n.Ia.shift(),i=C_.from(r,e,t);yield EM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield mf(n)})}function N4(n,e){return _(this,null,function*(){e&&Qr(n).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return GH(s)&&s!==N.ABORTED}(i.code)){let o=r.Ia.shift();Qr(r).L_(),yield EM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield mf(r)}})}(n,e)),wM(n)&&DM(n)})}function nR(n,e){return _(this,null,function*(){let t=Q(n);t.asyncQueue.verifyOperationInProgress(),F(Yi,"RemoteStore received new credentials");let r=Xi(t);t.da.add(3),yield Kc(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield gf(t)})}function P4(n,e){return _(this,null,function*(){let t=Q(n);e?(t.da.delete(2),yield gf(t)):e||(t.da.add(2),yield Kc(t),t.Va.set("Unknown"))})}function xs(n){return n.fa||(n.fa=function(t,r,i){let o=Q(t);return o.oa(),new lI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:w4.bind(null,n),n_:D4.bind(null,n),i_:T4.bind(null,n),Y_:C4.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.fa.L_(),eE(n)?XI(n):n.Va.set("Unknown")):(yield n.fa.stop(),IM(n))}))),n.fa}function Qr(n){return n.ga||(n.ga=function(t,r,i){let o=Q(t);return o.oa(),new dI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:A4.bind(null,n),i_:N4.bind(null,n),na:R4.bind(null,n),ra:M4.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.ga.L_(),yield mf(n)):(yield n.ga.stop(),n.Ia.length>0&&(F(Yi,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var mI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tE(n,e){if(ir("AsyncQueue",`${e}: ${n}`),Ps(n))return new j(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Zh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Jh=class{constructor(){this.pa=new ke(H.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):z(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ss=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Zh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var yI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},vI=class{constructor(){this.queries=rR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Q(t),o=i.queries;i.queries=rR(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function rR(){return new ar(n=>QR(n),hf)}function x4(n,e){return _(this,null,function*(){let t=Q(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new yI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=tE(s,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&nE(t)})}function k4(n,e){return _(this,null,function*(){let t=Q(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function O4(n,e){let t=Q(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&nE(t)}function F4(n,e,t){let r=Q(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function nE(n){n.Ca.forEach(e=>{e.next()})}var _I,iR;(iR=_I||(_I={})).xa="default",iR.Cache="cache";var II=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==_I.Cache}};var Xh=class{constructor(e){this.key=e}},ef=class{constructor(e){this.key=e}},EI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=le(),this.mutatedKeys=le(),this.Za=YR(e),this.Xa=new Zh(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Jh,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ff(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{Vt:R})}};return M(y)-M(b)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Ss(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Jh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=le(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new ef(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Xh(r))}),t}au(e){this.Ha=e.$s,this.Ya=le();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ss.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},rE="SyncEngine",wI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},DI=class{constructor(e){this.key=e,this.cu=!1}},TI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new ar(a=>QR(a),hf),this.Pu=new Map,this.Tu=new Set,this.Iu=new ke(H.comparator),this.Eu=new Map,this.du=new $c,this.Au={},this.Ru=new Map,this.Vu=Bc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function L4(n,e,t=!0){return _(this,null,function*(){let r=RM(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield TM(r,e,t,!0),i})}function V4(n,e){return _(this,null,function*(){let t=RM(n);yield TM(t,e,!0,!1)})}function TM(n,e,t,r){return _(this,null,function*(){let i=yield _4(n.localStore,Fn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield j4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&vM(n.remoteStore,i),a})}function j4(n,e,t,r,i){return _(this,null,function*(){n.fu=(p,m,y)=>function(M,R,L,W){return _(this,null,function*(){let K=R.view.tu(L);K.Cs&&(K=yield XA(M.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,K)));let _e=W&&W.targetChanges.get(R.targetId),ht=W&&W.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(K,M.isPrimaryClient,_e,ht);return sR(M,R.targetId,ve.ou),ve.snapshot})}(n,p,m,y);let o=yield XA(n.localStore,e,!0),s=new EI(e,o.$s),a=s.tu(o.documents),u=jc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);sR(n,t,l.ou);let h=new wI(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function U4(n,e,t){return _(this,null,function*(){let r=Q(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!hf(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ZI(r.remoteStore,i.targetId),CI(r,i.targetId)}).catch(Ns))):(CI(r,i.targetId),yield rI(r.localStore,i.targetId,!0))})}function B4(n,e){return _(this,null,function*(){let t=Q(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(t.remoteStore,r.targetId))})}function $4(n,e,t){return _(this,null,function*(){let r=Q4(n);try{let i=yield function(s,a){let u=Q(s),l=et.now(),h=a.reduce((y,b)=>y.add(b.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=cr(),M=le();return u.Bs.getEntries(y,h).next(R=>{b=R,b.forEach((L,W)=>{W.isValidDocument()||(M=M.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let L=[];for(let W of a){let K=qH(W,p.get(W.key).overlayedDocument);K!=null&&L.push(new ur(W.key,K,$R(K.value.mapValue),Hi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:JR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new ke(ie)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Qc(r,i.changes),yield mf(r.remoteStore)}catch(i){let o=tE(i,"Failed to persist write");t.reject(o)}})}function CM(n,e){return _(this,null,function*(){let t=Q(n);try{let r=yield m4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ye(s.cu,14607):i.removedDocuments.size>0&&(ye(s.cu,42227),s.cu=!1))}),yield Qc(t,r,e)}catch(r){yield Ns(r)}})}function oR(n,e,t){let r=Q(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Q(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(a)&&(l=!0)}),l&&nE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H4(n,e,t){return _(this,null,function*(){let r=Q(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ke(H.comparator);s=s.insert(o,pn.newNoDocument(o,J.min()));let a=le().add(o),u=new Vh(J.min(),new Map,new ke(ie),s,a);yield CM(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),iE(r)}else yield rI(r.localStore,e,!1).then(()=>CI(r,e,t)).catch(Ns)})}function z4(n,e){return _(this,null,function*(){let t=Q(n),r=e.batch.batchId;try{let i=yield g4(t.localStore,e);SM(t,r,null),bM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Qc(t,i)}catch(i){yield Ns(i)}})}function q4(n,e,t){return _(this,null,function*(){let r=Q(n);try{let i=yield function(s,a){let u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);SM(r,e,t),bM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Qc(r,i)}catch(i){yield Ns(i)}})}function bM(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function SM(n,e,t){let r=Q(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function CI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||AM(n,r)})}function AM(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(ZI(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),iE(n))}function sR(n,e,t){for(let r of t)r instanceof Xh?(n.du.addReference(r.key,e),G4(n,r)):r instanceof ef?(F(rE,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||AM(n,r.key)):z(19791,{pu:r})}function G4(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(F(rE,"New document in limbo: "+t),n.Tu.add(r),iE(n))}function iE(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new H(Me.fromString(e)),r=n.Vu.next();n.Eu.set(r,new DI(t)),n.Iu=n.Iu.insert(t,r),vM(n.remoteStore,new Uc(Fn(WI(t.path)),r,"TargetPurposeLimboResolution",jI.le))}}function Qc(n,e,t){return _(this,null,function*(){let r=Q(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=X_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=Q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ps(p))throw p;F(YI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(m,M)}}})}(r.localStore,o))})}function W4(n,e){return _(this,null,function*(){let t=Q(n);if(!t.currentUser.isEqual(e)){F(rE,"User change. New user:",e.toKey());let r=yield mM(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qc(t,r.ks)}})}function K4(n,e){let t=Q(n),r=t.Eu.get(e);if(r&&r.cu)return le().add(r.key);{let i=le(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function RM(n){let e=Q(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H4.bind(null,e),e.lu.Y_=O4.bind(null,e.eventManager),e.lu.gu=F4.bind(null,e.eventManager),e}function Q4(n){let e=Q(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q4.bind(null,e),e}var MM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=pf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return p4(this.persistence,new tI,t.initialUser,this.serializer)}Su(t){return new zh(J_.fi,this.serializer)}bu(t){return new iI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),bI=class extends MM{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ye(this.persistence.referenceDelegate instanceof qh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new j_(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new zh(r=>qh.fi(r,t),this.serializer)}};var Y4=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W4.bind(null,this.syncEngine),yield P4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new vI}()}createDatastore(t){let r=pf(t.databaseInfo.databaseId),i=function(s){return new uI(s)}(t.databaseInfo);return function(s,a,u,l){return new fI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new gI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>oR(this.syncEngine,r,0),function(){return Wh.C()?new Wh:new oI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new TI(o,s,a,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=Q(o);F(Yi,"RemoteStore shutting down."),s.da.add(5),yield Kc(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var SI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Yr="FirestoreClient",AI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=Mh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){F(Yr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(Yr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Zv(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F(Yr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield mM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function aR(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Z4(n);F(Yr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>nR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>nR(e.remoteStore,i)),n._onlineComponents=e})}function Z4(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(Yr,"Using user provided OfflineComponentProvider");try{yield Zv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),yield Zv(n,new MM)}}else F(Yr,"Using default OfflineComponentProvider"),yield Zv(n,new bI(void 0));return n._offlineComponents})}function NM(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(Yr,"Using user provided OnlineComponentProvider"),yield aR(n,n._uninitializedComponentsProvider._online)):(F(Yr,"Using default OnlineComponentProvider"),yield aR(n,new Y4))),n._onlineComponents})}function J4(n){return NM(n).then(e=>e.syncEngine)}function cR(n){return _(this,null,function*(){let e=yield NM(n),t=e.eventManager;return t.onListen=L4.bind(null,e.syncEngine),t.onUnlisten=U4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=V4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=B4.bind(null,e.syncEngine),t})}function PM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var uR=new Map;function xM(n,e,t){if(!t)throw new j(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X4(n,e,t,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lR(n){if(!H.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dR(n){if(H.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function kc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=yf(n);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var kM="firestore.googleapis.com",hR=!0,tf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kM,this.ssl=hR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d4)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jv;switch(r.type){case"firstParty":return new n_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=uR.get(t);r&&(F("ComponentProvider","Removing Datastore"),uR.delete(t),r.terminate())}(this),Promise.resolve()}};function OM(n,e,t,r={}){var i;n=kc(n,As);let o=Or(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Wd(`https://${u}`),Kd("Firestore",!0)),s.host!==kM&&s.host!==u&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Rn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ke.MOCK_USER;else{h=FS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(m)}n._authCredentials=new Xv(new Ah(h,p))}}var Zi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ut=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Gr=class n extends Zi{constructor(e,t,r){super(e,t,WI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function FM(n,e,...t){if(n=We(n),xM("collection","path",e),n instanceof As){let r=Me.fromString(e,...t);return dR(r),new Gr(n,null,r)}{if(!(n instanceof Ut||n instanceof Gr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return dR(r),new Gr(n.firestore,null,r)}}function LM(n,e,...t){if(n=We(n),arguments.length===1&&(e=Mh.newId()),xM("doc","path",e),n instanceof As){let r=Me.fromString(e,...t);return lR(r),new Ut(n,null,new H(r))}{if(!(n instanceof Ut||n instanceof Gr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return lR(r),new Ut(n.firestore,n instanceof Gr?n.converter:null,new H(r))}}var fR="AsyncQueue",nf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Kh(this,"async_queue_retry"),this.rc=()=>{let r=Yv();r&&F(fR,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=Yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=Yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new rr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ps(e))throw e;F(fR,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ir("INTERNAL UNHANDLED ERROR: ",pR(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=mI.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&z(47125,{cc:pR(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function pR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function gR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Rs=class extends As{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new nf(e),this._firestoreClient=void 0,yield e}})}};function VM(n,e){let t=typeof n=="object"?n:xi(),r=typeof n=="string"?n:e||kh,i=is(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=OS("firestore");o&&OM(i,...o)}return i}function jM(n){if(n._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ez(n),n._firestoreClient}function ez(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new a_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Hc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(dt.fromBase64String(e))}catch(t){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var zc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rf=class{constructor(e){this._methodName=e}};var qc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var Gc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var tz=/^__.*__$/,RI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qi(e,this.data,t,this.fieldTransforms)}};function UM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{Ic:n})}}var MI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return of(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(UM(this.Ic)&&tz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},NI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pf(e)}bc(e,t,r,i=!1){return new MI({Ic:e,methodName:t,wc:r,path:jt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function BM(n){let e=n._freezeSettings(),t=pf(n._databaseId);return new NI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nz(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);zM("Data must be an object, but it was:",s,r);let a=$M(r,s),u,l;if(o.merge)u=new kn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=iz(e,p,t);if(!s.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);sz(h,m)||h.push(m)}u=new kn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new RI(new fn(a),u,l)}function rz(n,e,t,r=!1){return oE(t,n.bc(r?4:3,e))}function oE(n,e){if(HM(n=We(n)))return zM("Unsupported field value:",e,n),$M(n,e);if(n instanceof rf)return function(r,i){if(!UM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=oE(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:$h(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(i.serializer,o)}}if(r instanceof qc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:cM(i.serializer,r._byteString)};if(r instanceof Ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gc)return function(s,a){return{mapValue:{fields:{[$I]:{stringValue:HI},[_s]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return KI(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${yf(r)}`)}(n,e)}function $M(n,e){let t={};return kR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,i)=>{let o=oE(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function HM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof qc||n instanceof Hc||n instanceof Ut||n instanceof rf||n instanceof Gc)}function zM(n,e,t){if(!HM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=yf(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function iz(n,e,t){if((e=We(e))instanceof zc)return e._internalPath;if(typeof e=="string")return qM(n,e);throw of("Field path arguments must be of type string or ",n,!1,void 0,t)}var oz=new RegExp("[~\\*/\\[\\]]");function qM(n,e,t){if(e.search(oz)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zc(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function of(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+n+u)}function sz(n,e){return n.some(t=>t.isEqual(e))}var sf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(sE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},PI=class extends sf{data(){return super.data()}};function sE(n,e){return typeof e=="string"?qM(n,e):e instanceof zc?e._internalPath:e._delegate._internalPath}function az(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wc=class{},af=class extends Wc{};function GM(n,e,...t){let r=[];e instanceof Wc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof kI).length,a=o.filter(u=>u instanceof xI).length;if(s>1||s>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var xI=class n extends af{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KM(e._query,t),new Zi(e.firestore,e.converter,I_(e._query,t))}_parse(e){let t=BM(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){yR(p,h);let b=[];for(let M of p)b.push(mR(u,o,M));m={arrayValue:{values:b}}}else m=mR(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||yR(p,h),m=rz(a,s,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var kI=class n extends Wc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)KM(s,u),s=I_(s,u)}(e._query,t),new Zi(e.firestore,e.converter,I_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var OI=class n extends af{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gi(o,s)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Kr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function WM(n,e="asc"){let t=e,r=sE("orderBy",n);return OI._create(r,t)}function mR(n,e,t){if(typeof(t=We(t))=="string"){if(t==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KR(e)&&t.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Me.fromString(t));if(!H.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kA(n,new H(r))}if(t instanceof Ut)return kA(n,t._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(t)}.`)}function yR(n,e){if(!Array.isArray(n)||n.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var FI=class{convertValue(e,t="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ji(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new Gc(o)}convertGeoPoint(e){return new qc(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=df(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){let t=or(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Me.fromString(e);ye(pM(r),9688,{name:e});let i=new Oh(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(t)||ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function cz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var $i=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cf=class extends sf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(sE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ms=class extends cf{data(e={}){return super.data(e)}},LI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $i(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ms(this._firestore,this._userDataWriter,r.key,r,new $i(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $i(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $i(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:uz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function uz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}var uf=class extends FI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}};function QM(n,e){let t=kc(n.firestore,Rs),r=LM(n),i=cz(n.converter,e);return lz(t,[nz(BM(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hi.exists(!1))]).then(()=>r)}function aE(n,...e){var t,r,i;n=We(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ut)l=kc(n.firestore,Rs),h=WI(n._key.path),u={next:p=>{e[s]&&e[s](dz(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=kc(n,Zi);l=kc(p.firestore,Rs),h=p._query;let m=new uf(l);u={next:y=>{e[s]&&e[s](new LI(l,m,p,y))},error:e[s+1],complete:e[s+2]},az(n._query)}return function(m,y,b,M){let R=new SI(M),L=new II(y,R,b);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return x4(yield cR(m),L)})),()=>{R.xu(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return k4(yield cR(m),L)}))}}(jM(l),h,a,u)}function lz(n,e){return function(r,i){let o=new rr;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return $4(yield J4(r),i,o)})),o.promise}(jM(n),e)}function dz(n,e,t){let r=t.docs.get(e._key),i=new uf(n);return new cf(n,i,e._key,r,new $i(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ms=i})(Lr),ln(new yt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Rs(new e_(r.getProvider("auth-internal")),new r_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Re(TA,CA,e),Re(TA,CA,"esm2017")})();var vf=function(){return vf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},vf.apply(this,arguments)};var pz={includeMetadataChanges:!1};function YM(n,e){return e===void 0&&(e=pz),new ne(function(t){var r=aE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ZM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:vf(vf({},r),(t={},t[e.idField]=n.id,t))}function JM(n){return YM(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function XM(n,e){return e===void 0&&(e={}),JM(n).pipe(X(function(t){return t.map(function(r){return ZM(r,e)})}))}var lr=class{constructor(e){return e}},eN="firestore",cE=class{constructor(){return ss(eN)}};var uE=new V("angularfire2.firestore-instances");function gz(n,e){let t=pc(eN,n,e);return t&&new lr(t)}function mz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new lr(r)}}var yz={provide:cE,deps:[[new Nt,uE]]},vz={provide:lr,useFactory:gz,deps:[[new Nt,uE],Jn]};function tN(n,...e){return Re("angularfire",Vr.full,"fst"),Tr([vz,yz,{provide:uE,useFactory:mz(n),multi:!0,deps:[he,xe,jr,Oi,[new Nt,Sc],[new Nt,as],...e]}])}var nN=vt(XM,!0);var rN=vt(QM,!0,2);var _f=vt(FM,!0,2);var iN=vt(VM,!0);var oN=vt(WM,!0,2),sN=vt(GM,!0,2);function _z(n,e){if(n&1&&(Se(0,"tr")(1,"td"),Xe(2),Ce(),Se(3,"td"),Xe(4),Ce()()),n&2){let t=e.$implicit;Pt(2),ed(t.nome),Pt(2),ed(t.preco)}}var If=class n{constructor(e){this.firestore=e;let t=_f(this.firestore,"produtos"),r=sN(t,oN("nome"));this.listaProdutos$=nN(r)}listaProdutos$;static \u0275fac=function(t){return new(t||n)(oe(lr))};static \u0275cmp=Tn({type:n,selectors:[["app-tabela-produtos"]],standalone:!1,decls:12,vars:3,consts:[[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(Se(0,"h3"),Xe(1,"Tabela de Produtos"),Ce(),Se(2,"table")(3,"thead")(4,"tr")(5,"th"),Xe(6,"NOME"),Ce(),Se(7,"th"),Xe(8,"PRE\xC7O"),Ce()()(),Se(9,"tbody"),xa(10,_z,5,2,"tr",0),ob(11,"async"),Ce()()),t&2&&(Pt(10),$o("ngForOf",sb(11,1,r.listaProdutos$)))},dependencies:[sd,Vm],encapsulation:2})};var gN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(oe(Ei),oe(Cr))};static \u0275dir=xt({type:n})}return n})(),Iz=(()=>{class n extends gN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Aa(n)))(i||n)}})();static \u0275dir=xt({type:n,features:[Uo]})}return n})(),mN=new V("");var Ez={provide:mN,useExisting:Ta(()=>Ls),multi:!0};function wz(){let n=kt()?kt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Dz=new V(""),Ls=(()=>{class n extends gN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!wz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(oe(Ei),oe(Cr),oe(Dz,8))};static \u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Gt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Sm([Ez]),Uo]})}return n})();var Tz=new V(""),Cz=new V("");function yN(n){return n!=null}function vN(n){return Sr(n)?De(n):n}function _N(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function IN(n,e){return e.map(t=>t(n))}function bz(n){return!n.validate}function EN(n){return n.map(e=>bz(e)?e:t=>e.validate(t))}function Sz(n){if(!n)return null;let e=n.filter(yN);return e.length==0?null:function(t){return _N(IN(t,e))}}function wN(n){return n!=null?Sz(EN(n)):null}function Az(n){if(!n)return null;let e=n.filter(yN);return e.length==0?null:function(t){let r=IN(t,e).map(vN);return kp(r).pipe(X(_N))}}function DN(n){return n!=null?Az(EN(n)):null}function cN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Rz(n){return n._rawValidators}function Mz(n){return n._rawAsyncValidators}function dE(n){return n?Array.isArray(n)?n:[n]:[]}function wf(n,e){return Array.isArray(n)?n.includes(e):n===e}function uN(n,e){let t=dE(e);return dE(n).forEach(i=>{wf(t,i)||t.push(i)}),t}function lN(n,e){return dE(e).filter(t=>!wf(n,t))}var Df=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},hE=class extends Df{name;get formDirective(){return null}get path(){return null}},eu=class extends Df{_parent=null;name=null;valueAccessor=null},fE=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vX=re(k({},Nz),{"[class.ng-submitted]":"isSubmitted"}),Cf=(()=>{class n extends fE{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(eu,2))};static \u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Tm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Uo]})}return n})();var Yc="VALID",Ef="INVALID",ks="PENDING",Zc="DISABLED",Fs=class{},Tf=class extends Fs{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Jc=class extends Fs{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Xc=class extends Fs{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Os=class extends Fs{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function Pz(n){return(bf(n)?n.validators:n)||null}function xz(n){return Array.isArray(n)?wN(n):n||null}function kz(n,e){return(bf(e)?e.asyncValidators:n)||null}function Oz(n){return Array.isArray(n)?DN(n):n||null}function bf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var pE=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rn(this.statusReactive)}set status(e){rn(()=>this.statusReactive.set(e))}_status=Oa(()=>this.statusReactive());statusReactive=Ra(void 0);get valid(){return this.status===Yc}get invalid(){return this.status===Ef}get pending(){return this.status==ks}get disabled(){return this.status===Zc}get enabled(){return this.status!==Zc}errors;get pristine(){return rn(this.pristineReactive)}set pristine(e){rn(()=>this.pristineReactive.set(e))}_pristine=Oa(()=>this.pristineReactive());pristineReactive=Ra(!0);get dirty(){return!this.pristine}get touched(){return rn(this.touchedReactive)}set touched(e){rn(()=>this.touchedReactive.set(e))}_touched=Oa(()=>this.touchedReactive());touchedReactive=Ra(!1);get untouched(){return!this.touched}_events=new Fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lN(e,this._rawAsyncValidators))}hasValidator(e){return wf(this._rawValidators,e)}hasAsyncValidator(e){return wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jc(!0,r))}markAsPending(e={}){this.status=ks;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Os(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this.errors=null,this._forEachChild(i=>{i.disable(re(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tf(this.value,r)),this._events.next(new Os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this._forEachChild(r=>{r.enable(re(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yc||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tf(this.value,t)),this._events.next(new Os(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zc:Yc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=vN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Os(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Zc:this.errors?Ef:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Ef)?Ef:Yc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Jc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Oz(this._rawAsyncValidators)}};var TN=new V("",{providedIn:"root",factory:()=>gE}),gE="always";function Fz(n,e){return[...e.path,n]}function Lz(n,e,t=gE){jz(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Uz(n,e),$z(n,e),Bz(n,e),Vz(n,e)}function dN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Vz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function jz(n,e){let t=Rz(n);e.validator!==null?n.setValidators(cN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Mz(n);e.asyncValidator!==null?n.setAsyncValidators(cN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();dN(e._rawValidators,i),dN(e._rawAsyncValidators,i)}function Uz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&CN(n,e)})}function Bz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&CN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function CN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $z(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Hz(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function zz(n){return Object.getPrototypeOf(n.constructor)===Iz}function qz(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ls?t=o:zz(o)?r=o:i=o}),i||r||t||null}function hN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Gz=class extends pE{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Pz(t),kz(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Wz={provide:eu,useExisting:Ta(()=>tu)},pN=Promise.resolve(),tu=(()=>{class n extends eu{_changeDetectorRef;callSetDisabledState;control=new Gz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ve;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qz(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Hz(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Lz(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){pN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ti(r);pN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Fz(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(oe(hE,9),oe(Tz,10),oe(Cz,10),oe(mN,10),oe(Ar,8),oe(TN,8))};static \u0275dir=xt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Sm([Wz]),Uo,yi]})}return n})();var Kz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ct({type:n});static \u0275inj=st({})}return n})();var bN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:TN,useValue:t.callSetDisabledState??gE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ct({type:n});static \u0275inj=st({imports:[Kz]})}return n})();var Sf=class n{constructor(e){this.firestore=e}produto={nome:"",preco:0};cadastrar(){let e=_f(this.firestore,"produtos");rN(e,this.produto).then(()=>{alert(`Produto ${this.produto.nome} cadastro com sucesso!`),this.produto={nome:"",preco:0}}).catch(t=>console.log("Erro: "+t))}static \u0275fac=function(t){return new(t||n)(oe(lr))};static \u0275cmp=Tn({type:n,selectors:[["app-form-produtos"]],standalone:!1,decls:8,vars:2,consts:[["id","nome","name","nome",3,"ngModelChange","ngModel"],["id","preco","name","preco",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(Se(0,"h3"),Xe(1,"Formulario de Produtos"),Ce(),Se(2,"input",0),Di("ngModelChange",function(o){return Ho(r.produto.nome,o)||(r.produto.nome=o),o}),Ce(),qt(3,"br"),Se(4,"input",1),Di("ngModelChange",function(o){return Ho(r.produto.preco,o)||(r.produto.preco=o),o}),Ce(),qt(5,"br"),Se(6,"button",2),Gt("click",function(){return r.cadastrar()}),Xe(7,"Cadastrar"),Ce()),t&2&&(Pt(2),wi("ngModel",r.produto.nome),Pt(2),wi("ngModel",r.produto.preco))},dependencies:[Ls,Cf,tu],encapsulation:2})};var AN=X(n=>!!n),Qz=(()=>{class n{router;auth;constructor(t,r){this.router=t,this.auth=r}canActivate=(t,r)=>{let i=t.data.authGuardPipe||(()=>AN);return vA(this.auth).pipe(Zt(1),i(t,r),X(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||n)($(cn),$(hn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),mE=n=>({canActivate:[Qz],data:{authGuardPipe:n}});var RN=n=>uo(AN,X(e=>e||n));var MN=()=>RN([""]),Yz=[k({path:"tabela",component:If},mE(MN)),k({path:"cadastro",component:Sf},mE(MN))],Af=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ct({type:n});static \u0275inj=st({imports:[Hd.forRoot(Yz),Hd]})};var Rf=class n{constructor(e){this.auth=e}usuario={email:"",senha:""};onLoginEvent=new Ve;realizarLogin(){IA(this.auth,this.usuario.email,this.usuario.senha).then(e=>{localStorage.setItem("credencial",JSON.stringify(e)),this.onLoginEvent.emit(),alert("Login realizado com sucesso!")}).catch(e=>{alert("Usuario ou senha invalidos")})}static \u0275fac=function(t){return new(t||n)(oe(hn))};static \u0275cmp=Tn({type:n,selectors:[["app-login"]],outputs:{onLoginEvent:"onLoginEvent"},standalone:!1,decls:8,vars:2,consts:[["id","email","name","email",3,"ngModelChange","ngModel"],["type","password","id","senha","name","senha",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(Se(0,"h3"),Xe(1,"Login"),Ce(),Se(2,"input",0),Di("ngModelChange",function(o){return Ho(r.usuario.email,o)||(r.usuario.email=o),o}),Ce(),qt(3,"br"),Se(4,"input",1),Di("ngModelChange",function(o){return Ho(r.usuario.senha,o)||(r.usuario.senha=o),o}),Ce(),qt(5,"br"),Se(6,"button",2),Gt("click",function(){return r.realizarLogin()}),Xe(7,"Login"),Ce()),t&2&&(Pt(2),wi("ngModel",r.usuario.email),Pt(2),wi("ngModel",r.usuario.senha))},dependencies:[Ls,Cf,tu],encapsulation:2})};function Jz(n,e){if(n&1){let t=Cm();Se(0,"div")(1,"nav")(2,"a",2),Xe(3,"Tabela"),Ce(),qt(4,"br"),Se(5,"a",3),Xe(6,"Cadastro"),Ce()(),Se(7,"button",4),Gt("click",function(){$g(t);let i=bm();return Hg(i.realizarLogout())}),Xe(8,"Sair"),Ce(),qt(9,"router-outlet"),Ce()}}function Xz(n,e){if(n&1){let t=Cm();Se(0,"app-login",5),Gt("onLoginEvent",function(){$g(t);let i=bm();return Hg(i.atualizaLogin())}),Ce()}}var Mf=class n{constructor(e){this.auth=e;localStorage.getItem("credencial")&&(this.isAuth=!0)}title="cadastro-produtos-login-firebase";isAuth=!1;atualizaLogin(){localStorage.getItem("credencial")?this.isAuth=!0:this.isAuth=!1}realizarLogout(){EA(this.auth).then(()=>{this.isAuth?(alert("Deslogado com sucesso!"),localStorage.removeItem("credencial"),this.isAuth=!1):(alert("ERRO - n\xE3o estava logado"),console.log("Erro","isAuth is false"))}).catch(e=>{alert("ERRO - n\xE3o estava logado"),console.log("Erro",e)})}static \u0275fac=function(t){return new(t||n)(oe(hn))};static \u0275cmp=Tn({type:n,selectors:[["app-root"]],standalone:!1,decls:4,vars:2,consts:[[4,"ngIf"],[3,"onLoginEvent",4,"ngIf"],["routerLink","/tabela"],["routerLink","/cadastro"],[3,"click"],[3,"onLoginEvent"]],template:function(t,r){t&1&&(Se(0,"h1"),Xe(1,"Cadastro de Produtos"),Ce(),xa(2,Jz,10,0,"div",0)(3,Xz,1,0,"app-login",1)),t&2&&(Pt(2),$o("ngIf",r.isAuth),Pt(),$o("ngIf",!r.isAuth))},dependencies:[Lm,rc,$d,Rf],encapsulation:2})};var NN={production:!0,firebase:{projectId:"cadastro-produtos-2025-1",appId:"1:536646026486:web:2d126787202023325dd8d7",storageBucket:"cadastro-produtos-2025-1.firebasestorage.app",apiKey:"AIzaSyBvauVNjjE10ue1IQc3yrFeAAAFd9VuaSQ",authDomain:"cadastro-produtos-2025-1.firebaseapp.com",messagingSenderId:"536646026486"}};var Nf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ct({type:n,bootstrap:[Mf]});static \u0275inj=st({providers:[c0(()=>u0(NN.firebase)),tN(()=>iN()),yA(()=>_A())],imports:[Jm,bN,Af]})};Zm().bootstrapModule(Nf,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
